(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const zt=!1;var it=Array.isArray,Rn=Array.prototype.indexOf,rt=Array.from,je=Object.defineProperty,we=Object.getOwnPropertyDescriptor,Dn=Object.getOwnPropertyDescriptors,Mn=Object.prototype,Hn=Array.prototype,Gt=Object.getPrototypeOf,St=Object.isExtensible;const ue=()=>{};function Nn(e){for(var t=0;t<e.length;t++)e[t]()}function zn(){var e,t,n=new Promise((i,r)=>{e=i,t=r});return{promise:n,resolve:e,reject:t}}const D=2,st=4,at=8,ge=16,Y=32,re=64,Ft=128,H=256,Le=512,k=1024,N=2048,$=4096,G=8192,ve=16384,ot=32768,Wt=65536,It=1<<17,Gn=1<<18,Ie=1<<19,Fn=1<<20,Qe=1<<21,lt=1<<22,ne=1<<23,Ae=Symbol("$state"),Wn=Symbol(""),ut=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function qn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Un(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Vn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Bn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Kn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Xn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Zn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const ze=1,Ge=2,qt=4,$n=8,ei=16,ti=1,ni=2,P=Symbol(),ii="http://www.w3.org/1999/xhtml";let ri=!1;function Ut(e){return e===this.v}function Vt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Bt(e){return!Vt(e,this.v)}let si=!1,z=null;function Oe(e){z=e}function xe(e,t=!1,n){z={p:z,c:null,e:null,s:e,x:null,l:null}}function Ce(e){var t=z,n=t.e;if(n!==null){t.e=null;for(var i of n)un(i)}return z=t.p,{}}function Yt(){return!0}const ai=new WeakMap;function oi(e){var t=p;if(t===null)return _.f|=ne,e;if((t.f&ot)===0){if((t.f&Ft)===0)throw!t.parent&&e instanceof Error&&Kt(e),e;t.b.error(e)}else ft(e,t)}function ft(e,t){for(;t!==null;){if((t.f&Ft)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Kt(e),e}function Kt(e){const t=ai.get(e);t&&(je(e,"message",{value:t.message}),je(e,"stack",{value:t.stack}))}let Re=[];function li(){var e=Re;Re=[],Nn(e)}function ct(e){Re.length===0&&queueMicrotask(li),Re.push(e)}function ui(){for(var e=p.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&qn(),e}function ht(e){var t=D|N,n=_!==null&&(_.f&D)!==0?_:null;return p===null||n!==null&&(n.f&H)!==0?t|=H:p.f|=Ie,{ctx:z,deps:null,effects:null,equals:Ut,f:t,fn:e,reactions:null,rv:0,v:P,wv:0,parent:n??p,ac:null}}function fi(e,t){let n=p;n===null&&Vn();var i=n.b,r=void 0,s=ye(P),a=null,l=!_;return xi(()=>{try{var o=e();a&&Promise.resolve(o).catch(()=>{})}catch(f){o=Promise.reject(f)}var u=()=>o;r=a?.then(u,u)??Promise.resolve(o),a=r;var h=A,d=i.pending;l&&(i.update_pending_count(1),d||h.increment());const g=(f,c=void 0)=>{a=null,d||h.activate(),c?c!==ut&&(s.f|=ne,Ee(s,c)):((s.f&ne)!==0&&(s.f^=ne),Ee(s,f)),l&&(i.update_pending_count(-1),d||h.decrement()),Qt()};if(r.then(g,f=>g(null,f||"unknown")),h)return()=>{queueMicrotask(()=>h.neuter())}}),new Promise(o=>{function u(h){function d(){h===r?o(s):u(r)}h.then(d,d)}u(r)})}function Xt(e){const t=ht(e);return pn(t),t}function ci(e){const t=ht(e);return t.equals=Bt,t}function Jt(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)B(t[n])}}function hi(e){for(var t=e.parent;t!==null;){if((t.f&D)===0)return t;t=t.parent}return null}function dt(e){var t,n=p;Q(hi(e));try{Jt(e),t=En(e)}finally{Q(n)}return t}function Zt(e){var t=dt(e);if(e.equals(t)||(e.v=t,e.wv=bn()),!me){var n=(J||(e.f&H)!==0)&&e.deps!==null?$:k;O(e,n)}}function di(e,t,n){const i=ht;if(t.length===0){n(e.map(i));return}var r=A,s=p,a=gi(),l=ui();Promise.all(t.map(o=>fi(o))).then(o=>{r?.activate(),a();try{n([...e.map(i),...o])}catch(u){(s.f&ve)===0&&ft(u,s)}r?.deactivate(),Qt()}).catch(o=>{l.error(o)})}function gi(){var e=p,t=_,n=z,i=A;return function(){Q(e),q(t),Oe(n),i?.activate()}}function Qt(){Q(null),q(null),Oe(null)}const Xe=new Set;let A=null,xt=new Set,De=[];function $t(){const e=De.shift();De.length>0&&queueMicrotask($t),e()}let be=[],gt=null,$e=!1;class he{current=new Map;#l=new Map;#r=new Set;#e=0;#u=null;#f=!1;#n=[];#s=[];#i=[];#t=[];#a=[];#c=[];#h=[];skipped_effects=new Set;process(t){be=[];for(const r of t)this.#g(r);if(this.#n.length===0&&this.#e===0){this.#d();var n=this.#i,i=this.#t;this.#i=[],this.#t=[],this.#a=[],A=null,Ct(n),Ct(i),A===null?A=this:Xe.delete(this),this.#u?.resolve()}else this.#o(this.#i),this.#o(this.#t),this.#o(this.#a);for(const r of this.#n)ce(r);for(const r of this.#s)ce(r);this.#n=[],this.#s=[]}#g(t){t.f^=k;for(var n=t.first;n!==null;){var i=n.f,r=(i&(Y|re))!==0,s=r&&(i&k)!==0,a=s||(i&G)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){if(r)n.f^=k;else if((i&st)!==0)this.#t.push(n);else if((i&k)===0)if((i&lt)!==0){var l=n.b?.pending?this.#s:this.#n;l.push(n)}else qe(n)&&((n.f&ge)!==0&&this.#a.push(n),ce(n));var o=n.first;if(o!==null){n=o;continue}}var u=n.parent;for(n=n.next;n===null&&u!==null;)n=u.next,u=u.parent}}#o(t){for(const n of t)((n.f&N)!==0?this.#c:this.#h).push(n),O(n,k);t.length=0}capture(t,n){this.#l.has(t)||this.#l.set(t,n),this.current.set(t,t.v)}activate(){A=this}deactivate(){A=null;for(const t of xt)if(xt.delete(t),t(),A!==null)break}neuter(){this.#f=!0}flush(){be.length>0?vi():this.#d(),A===this&&(this.#e===0&&Xe.delete(this),this.deactivate())}#d(){if(!this.#f)for(const t of this.#r)t();this.#r.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#c)O(t,N),de(t);for(const t of this.#h)O(t,$),de(t);this.#i=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#r.add(t)}settled(){return(this.#u??=zn()).promise}static ensure(){if(A===null){const t=A=new he;Xe.add(A),he.enqueue(()=>{A===t&&t.flush()})}return A}static enqueue(t){De.length===0&&queueMicrotask($t),De.unshift(t)}}function vi(){var e=fe;$e=!0;try{var t=0;for(Pt(!0);be.length>0;){var n=he.ensure();if(t++>1e3){var i,r;mi()}n.process(be),Z.clear()}}finally{$e=!1,Pt(e),gt=null}}function mi(){try{Xn()}catch(e){ft(e,gt)}}let ee=null;function Ct(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(ve|G))===0&&qe(i)&&(ee=[],ce(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?dn(i):i.fn=null),ee?.length>0)){Z.clear();for(const r of ee)ce(r);ee=[]}}ee=null}}function de(e){for(var t=gt=e;t.parent!==null;){t=t.parent;var n=t.f;if($e&&t===p&&(n&ge)!==0)return;if((n&(re|Y))!==0){if((n&k)===0)return;t.f^=k}}be.push(t)}const Z=new Map;function ye(e,t){var n={f:0,v:e,reactions:null,equals:Ut,rv:0,wv:0};return n}function C(e,t){const n=ye(e);return pn(n),n}function en(e,t=!1,n=!0){const i=ye(e);return t||(i.equals=Bt),i}function y(e,t,n=!1){_!==null&&(!W||(_.f&It)!==0)&&Yt()&&(_.f&(D|ge|lt|It))!==0&&!V?.includes(e)&&Qn();let i=n?te(t):t;return Ee(e,i)}function Ee(e,t){if(!e.equals(t)){var n=e.v;me?Z.set(e,t):Z.set(e,n),e.v=t;var i=he.ensure();i.capture(e,n),(e.f&D)!==0&&((e.f&N)!==0&&dt(e),O(e,(e.f&H)===0?k:$)),e.wv=bn(),tn(e,N),p!==null&&(p.f&k)!==0&&(p.f&(Y|re))===0&&(M===null?ki([e]):M.push(e))}return t}function Je(e){y(e,e.v+1)}function tn(e,t){var n=e.reactions;if(n!==null)for(var i=n.length,r=0;r<i;r++){var s=n[r],a=s.f,l=(a&N)===0;l&&O(s,t),(a&D)!==0?tn(s,$):l&&((a&ge)!==0&&ee!==null&&ee.push(s),de(s))}}function te(e){if(typeof e!="object"||e===null||Ae in e)return e;const t=Gt(e);if(t!==Mn&&t!==Hn)return e;var n=new Map,i=it(e),r=C(0),s=ie,a=l=>{if(ie===s)return l();var o=_,u=ie;q(null),kt(s);var h=l();return q(o),kt(u),h};return i&&n.set("length",C(e.length)),new Proxy(e,{defineProperty(l,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Jn();var h=n.get(o);return h===void 0?h=a(()=>{var d=C(u.value);return n.set(o,d),d}):y(h,u.value,!0),!0},deleteProperty(l,o){var u=n.get(o);if(u===void 0){if(o in l){const h=a(()=>C(P));n.set(o,h),Je(r)}}else y(u,P),Je(r);return!0},get(l,o,u){if(o===Ae)return e;var h=n.get(o),d=o in l;if(h===void 0&&(!d||we(l,o)?.writable)&&(h=a(()=>{var f=te(d?l[o]:P),c=C(f);return c}),n.set(o,h)),h!==void 0){var g=S(h);return g===P?void 0:g}return Reflect.get(l,o,u)},getOwnPropertyDescriptor(l,o){var u=Reflect.getOwnPropertyDescriptor(l,o);if(u&&"value"in u){var h=n.get(o);h&&(u.value=S(h))}else if(u===void 0){var d=n.get(o),g=d?.v;if(d!==void 0&&g!==P)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return u},has(l,o){if(o===Ae)return!0;var u=n.get(o),h=u!==void 0&&u.v!==P||Reflect.has(l,o);if(u!==void 0||p!==null&&(!h||we(l,o)?.writable)){u===void 0&&(u=a(()=>{var g=h?te(l[o]):P,f=C(g);return f}),n.set(o,u));var d=S(u);if(d===P)return!1}return h},set(l,o,u,h){var d=n.get(o),g=o in l;if(i&&o==="length")for(var f=u;f<d.v;f+=1){var c=n.get(f+"");c!==void 0?y(c,P):f in l&&(c=a(()=>C(P)),n.set(f+"",c))}if(d===void 0)(!g||we(l,o)?.writable)&&(d=a(()=>C(void 0)),y(d,te(u)),n.set(o,d));else{g=d.v!==P;var v=a(()=>te(u));y(d,v)}var m=Reflect.getOwnPropertyDescriptor(l,o);if(m?.set&&m.set.call(h,u),!g){if(i&&typeof o=="string"){var E=n.get("length"),I=Number(o);Number.isInteger(I)&&I>=E.v&&y(E,I+1)}Je(r)}return!0},ownKeys(l){S(r);var o=Reflect.ownKeys(l).filter(d=>{var g=n.get(d);return g===void 0||g.v!==P});for(var[u,h]of n)h.v!==P&&!(u in l)&&o.push(u);return o},setPrototypeOf(){Zn()}})}var Tt,nn,rn,sn;function _i(){if(Tt===void 0){Tt=window,nn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;rn=we(t,"firstChild").get,sn=we(t,"nextSibling").get,St(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),St(n)&&(n.__t=void 0)}}function vt(e=""){return document.createTextNode(e)}function Me(e){return rn.call(e)}function Fe(e){return sn.call(e)}function an(e,t){return Me(e)}function pi(e,t){{var n=Me(e);return n instanceof Comment&&n.data===""?Fe(n):n}}function on(e,t=1,n=!1){let i=e;for(;t--;)i=Fe(i);return i}function wi(e){e.textContent=""}function bi(){return!1}function mt(e){var t=_,n=p;q(null),Q(null);try{return e()}finally{q(t),Q(n)}}function yi(e){p===null&&_===null&&Kn(),_!==null&&(_.f&H)!==0&&p===null&&Yn(),me&&Bn()}function Ei(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function K(e,t,n,i=!0){var r=p;r!==null&&(r.f&G)!==0&&(e|=G);var s={ctx:z,deps:null,nodes_start:null,nodes_end:null,f:e|N,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{ce(s),s.f|=ot}catch(o){throw B(s),o}else t!==null&&de(s);if(i){var a=s;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&Ie)===0&&(a=a.first),a!==null&&(a.parent=r,r!==null&&Ei(a,r),_!==null&&(_.f&D)!==0&&(e&re)===0)){var l=_;(l.effects??=[]).push(a)}}return s}function ln(e){const t=K(at,null,!1);return O(t,k),t.teardown=e,t}function We(e){yi();var t=p.f,n=!_&&(t&Y)!==0&&(t&ot)===0;if(n){var i=z;(i.e??=[]).push(e)}else return un(e)}function un(e){return K(st|Fn,e,!1)}function Si(e){he.ensure();const t=K(re|Ie,e,!0);return(n={})=>new Promise(i=>{n.outro?gn(t,()=>{B(t),i(void 0)}):(B(t),i(void 0))})}function Ii(e){return K(st,e,!1)}function xi(e){return K(lt|Ie,e,!0)}function Ci(e,t=0){return K(at|t,e,!0)}function fn(e,t=[],n=[]){di(t,n,i=>{K(at,()=>e(...i.map(S)),!0)})}function Ti(e,t=0){var n=K(ge|t,e,!0);return n}function _t(e,t=!0){return K(Y|Ie,e,!0,t)}function cn(e){var t=e.teardown;if(t!==null){const n=me,i=_;At(!0),q(null);try{t.call(null)}finally{At(n),q(i)}}}function hn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&mt(()=>{r.abort(ut)});var i=n.next;(n.f&re)!==0?n.parent=null:B(n,t),n=i}}function Pi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Y)===0&&B(t),t=n}}function B(e,t=!0){var n=!1;(t||(e.f&Gn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ai(e.nodes_start,e.nodes_end),n=!0),hn(e,t&&!n),He(e,0),O(e,ve);var i=e.transitions;if(i!==null)for(const s of i)s.stop();cn(e);var r=e.parent;r!==null&&r.first!==null&&dn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ai(e,t){for(;e!==null;){var n=e===t?null:Fe(e);e.remove(),e=n}}function dn(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function gn(e,t){var n=[];pt(e,n,!0),vn(n,()=>{B(e),t&&t()})}function vn(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var r of e)r.out(i)}else t()}function pt(e,t,n){if((e.f&G)===0){if(e.f^=G,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var r=i.next,s=(i.f&Wt)!==0||(i.f&Y)!==0;pt(i,t,s?n:!1),i=r}}}function mn(e){_n(e,!0)}function _n(e,t){if((e.f&G)!==0){e.f^=G,(e.f&k)===0&&(O(e,N),de(e));for(var n=e.first;n!==null;){var i=n.next,r=(n.f&Wt)!==0||(n.f&Y)!==0;_n(n,r?t:!1),n=i}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let fe=!1;function Pt(e){fe=e}let me=!1;function At(e){me=e}let _=null,W=!1;function q(e){_=e}let p=null;function Q(e){p=e}let V=null;function pn(e){_!==null&&(V===null?V=[e]:V.push(e))}let L=null,R=0,M=null;function ki(e){M=e}let wn=1,Se=0,ie=Se;function kt(e){ie=e}let J=!1;function bn(){return++wn}function qe(e){var t=e.f;if((t&N)!==0)return!0;if((t&$)!==0){var n=e.deps,i=(t&H)!==0;if(n!==null){var r,s,a=(t&Le)!==0,l=i&&p!==null&&!J,o=n.length;if((a||l)&&(p===null||(p.f&ve)===0)){var u=e,h=u.parent;for(r=0;r<o;r++)s=n[r],(a||!s?.reactions?.includes(u))&&(s.reactions??=[]).push(u);a&&(u.f^=Le),l&&h!==null&&(h.f&H)===0&&(u.f^=H)}for(r=0;r<o;r++)if(s=n[r],qe(s)&&Zt(s),s.wv>e.wv)return!0}(!i||p!==null&&!J)&&O(e,k)}return!1}function yn(e,t,n=!0){var i=e.reactions;if(i!==null&&!V?.includes(e))for(var r=0;r<i.length;r++){var s=i[r];(s.f&D)!==0?yn(s,t,!1):t===s&&(n?O(s,N):(s.f&k)!==0&&O(s,$),de(s))}}function En(e){var t=L,n=R,i=M,r=_,s=J,a=V,l=z,o=W,u=ie,h=e.f;L=null,R=0,M=null,J=(h&H)!==0&&(W||!fe||_===null),_=(h&(Y|re))===0?e:null,V=null,Oe(e.ctx),W=!1,ie=++Se,e.ac!==null&&(mt(()=>{e.ac.abort(ut)}),e.ac=null);try{e.f|=Qe;var d=e.fn,g=d(),f=e.deps;if(L!==null){var c;if(He(e,R),f!==null&&R>0)for(f.length=R+L.length,c=0;c<L.length;c++)f[R+c]=L[c];else e.deps=f=L;if(!J||(h&D)!==0&&e.reactions!==null)for(c=R;c<f.length;c++)(f[c].reactions??=[]).push(e)}else f!==null&&R<f.length&&(He(e,R),f.length=R);if(Yt()&&M!==null&&!W&&f!==null&&(e.f&(D|$|N))===0)for(c=0;c<M.length;c++)yn(M[c],e);return r!==null&&r!==e&&(Se++,M!==null&&(i===null?i=M:i.push(...M))),(e.f&ne)!==0&&(e.f^=ne),g}catch(v){return oi(v)}finally{e.f^=Qe,L=t,R=n,M=i,_=r,J=s,V=a,Oe(l),W=o,ie=u}}function ji(e,t){let n=t.reactions;if(n!==null){var i=Rn.call(n,e);if(i!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[i]=n[r],n.pop())}}n===null&&(t.f&D)!==0&&(L===null||!L.includes(t))&&(O(t,$),(t.f&(H|Le))===0&&(t.f^=Le),Jt(t),He(t,0))}function He(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)ji(e,n[i])}function ce(e){var t=e.f;if((t&ve)===0){O(e,k);var n=p,i=fe;p=e,fe=!0;try{(t&ge)!==0?Pi(e):hn(e),cn(e);var r=En(e);e.teardown=typeof r=="function"?r:null,e.wv=wn;var s;zt&&si&&(e.f&N)!==0&&e.deps}finally{fe=i,p=n}}}function S(e){var t=e.f,n=(t&D)!==0;if(_!==null&&!W){var i=p!==null&&(p.f&ve)!==0;if(!i&&!V?.includes(e)){var r=_.deps;if((_.f&Qe)!==0)e.rv<Se&&(e.rv=Se,L===null&&r!==null&&r[R]===e?R++:L===null?L=[e]:(!J||!L.includes(e))&&L.push(e));else{(_.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[_]:s.includes(_)||s.push(_)}}}else if(n&&e.deps===null&&e.effects===null){var a=e,l=a.parent;l!==null&&(l.f&H)===0&&(a.f^=H)}if(me){if(Z.has(e))return Z.get(e);if(n){a=e;var o=a.v;return((a.f&k)===0&&a.reactions!==null||Sn(a))&&(o=dt(a)),Z.set(a,o),o}}else n&&(a=e,qe(a)&&Zt(a));if((e.f&ne)!==0)throw e.v;return e.v}function Sn(e){if(e.v===P)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Z.has(t)||(t.f&D)!==0&&Sn(t))return!0;return!1}function wt(e){var t=W;try{return W=!0,e()}finally{W=t}}const Li=-7169;function O(e,t){e.f=e.f&Li|t}const Oi=["touchstart","touchmove"];function Ri(e){return Oi.includes(e)}const In=new Set,et=new Set;function Di(e,t,n,i={}){function r(s){if(i.capture||pe.call(t,s),!s.cancelBubble)return mt(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?ct(()=>{t.addEventListener(e,r,i)}):t.addEventListener(e,r,i),r}function jt(e,t,n,i,r){var s={capture:i,passive:r},a=Di(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ln(()=>{t.removeEventListener(e,a,s)})}function xn(e){for(var t=0;t<e.length;t++)In.add(e[t]);for(var n of et)n(e)}let Lt=null;function pe(e){var t=this,n=t.ownerDocument,i=e.type,r=e.composedPath?.()||[],s=r[0]||e.target;Lt=e;var a=0,l=Lt===e&&e.__root;if(l){var o=r.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=r.indexOf(t);if(u===-1)return;o<=u&&(a=o)}if(s=r[a]||e.target,s!==t){je(e,"currentTarget",{configurable:!0,get(){return s||n}});var h=_,d=p;q(null),Q(null);try{for(var g,f=[];s!==null;){var c=s.assignedSlot||s.parentNode||s.host||null;try{var v=s["__"+i];if(v!=null&&(!s.disabled||e.target===s))if(it(v)){var[m,...E]=v;m.apply(s,[e,...E])}else v.call(s,e)}catch(I){g?f.push(I):g=I}if(e.cancelBubble||c===t||c===null)break;s=c}if(g){for(let I of f)queueMicrotask(()=>{throw I});throw g}}finally{e.__root=t,delete e.currentTarget,q(h),Q(d)}}}function Mi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ot(e,t){var n=p;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Ue(e,t){var n=(t&ti)!==0,i=(t&ni)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=Mi(s?e:"<!>"+e),n||(r=Me(r)));var a=i||nn?document.importNode(r,!0):r.cloneNode(!0);if(n){var l=Me(a),o=a.lastChild;Ot(l,o)}else Ot(a,a);return a}}function Ve(e,t){e!==null&&e.before(t)}function Hi(e,t){return Ni(e,t)}const se=new Map;function Ni(e,{target:t,anchor:n,props:i={},events:r,context:s,intro:a=!0}){_i();var l=new Set,o=d=>{for(var g=0;g<d.length;g++){var f=d[g];if(!l.has(f)){l.add(f);var c=Ri(f);t.addEventListener(f,pe,{passive:c});var v=se.get(f);v===void 0?(document.addEventListener(f,pe,{passive:c}),se.set(f,1)):se.set(f,v+1)}}};o(rt(In)),et.add(o);var u=void 0,h=Si(()=>{var d=n??t.appendChild(vt());return _t(()=>{if(s){xe({});var g=z;g.c=s}r&&(i.$$events=r),u=e(d,i)||{},s&&Ce()}),()=>{for(var g of l){t.removeEventListener(g,pe);var f=se.get(g);--f===0?(document.removeEventListener(g,pe),se.delete(g)):se.set(g,f)}et.delete(o),d!==n&&d.parentNode?.removeChild(d)}});return zi.set(u,h),u}let zi=new WeakMap;function Cn(e,t){return t}function Gi(e,t,n){for(var i=e.items,r=[],s=t.length,a=0;a<s;a++)pt(t[a].e,r,!0);var l=s>0&&r.length===0&&n!==null;if(l){var o=n.parentNode;wi(o),o.append(n),i.clear(),F(e,t[0].prev,t[s-1].next)}vn(r,()=>{for(var u=0;u<s;u++){var h=t[u];l||(i.delete(h.k),F(e,h.prev,h.next)),B(h.e,!l)}})}function Tn(e,t,n,i,r,s=null){var a=e,l={flags:t,items:new Map,first:null},o=(t&qt)!==0;if(o){var u=e;a=u.appendChild(vt())}var h=null,d=!1,g=new Map,f=ci(()=>{var E=n();return it(E)?E:E==null?[]:rt(E)}),c,v;function m(){Fi(v,c,l,g,a,r,t,i,n),s!==null&&(c.length===0?h?mn(h):h=_t(()=>s(a)):h!==null&&gn(h,()=>{h=null}))}Ti(()=>{v??=p,c=S(f);var E=c.length;if(!(d&&E===0)){d=E===0;var I,T,j,x;if(bi()){var w=new Set,b=A;for(T=0;T<E;T+=1){j=c[T],x=i(j,T);var U=l.items.get(x)??g.get(x);U?(t&(ze|Ge))!==0&&Pn(U,j,T,t):(I=An(null,l,null,null,j,x,T,r,t,n,!0),g.set(x,I)),w.add(x)}for(const[Te,Be]of l.items)w.has(Te)||b.skipped_effects.add(Be.e);b.add_callback(m)}else m();S(f)}})}function Fi(e,t,n,i,r,s,a,l,o){var u=(a&$n)!==0,h=(a&(ze|Ge))!==0,d=t.length,g=n.items,f=n.first,c=f,v,m=null,E,I=[],T=[],j,x,w,b;if(u)for(b=0;b<d;b+=1)j=t[b],x=l(j,b),w=g.get(x),w!==void 0&&(w.a?.measure(),(E??=new Set).add(w));for(b=0;b<d;b+=1){if(j=t[b],x=l(j,b),w=g.get(x),w===void 0){var U=i.get(x);if(U!==void 0){i.delete(x),g.set(x,U);var Te=m?m.next:c;F(n,m,U),F(n,U,Te),Ze(U,Te,r),m=U}else{var Be=c?c.e.nodes_start:r;m=An(Be,n,m,m===null?n.first:m.next,j,x,b,s,a,o)}g.set(x,m),I=[],T=[],c=m.next;continue}if(h&&Pn(w,j,b,a),(w.e.f&G)!==0&&(mn(w.e),u&&(w.a?.unfix(),(E??=new Set).delete(w))),w!==c){if(v!==void 0&&v.has(w)){if(I.length<T.length){var Pe=T[0],X;m=Pe.prev;var Et=I[0],Ye=I[I.length-1];for(X=0;X<I.length;X+=1)Ze(I[X],Pe,r);for(X=0;X<T.length;X+=1)v.delete(T[X]);F(n,Et.prev,Ye.next),F(n,m,Et),F(n,Ye,Pe),c=Pe,m=Ye,b-=1,I=[],T=[]}else v.delete(w),Ze(w,c,r),F(n,w.prev,w.next),F(n,w,m===null?n.first:m.next),F(n,m,w),m=w;continue}for(I=[],T=[];c!==null&&c.k!==x;)(c.e.f&G)===0&&(v??=new Set).add(c),T.push(c),c=c.next;if(c===null)continue;w=c}I.push(w),m=w,c=w.next}if(c!==null||v!==void 0){for(var _e=v===void 0?[]:rt(v);c!==null;)(c.e.f&G)===0&&_e.push(c),c=c.next;var Ke=_e.length;if(Ke>0){var Ln=(a&qt)!==0&&d===0?r:null;if(u){for(b=0;b<Ke;b+=1)_e[b].a?.measure();for(b=0;b<Ke;b+=1)_e[b].a?.fix()}Gi(n,_e,Ln)}}u&&ct(()=>{if(E!==void 0)for(w of E)w.a?.apply()}),e.first=n.first&&n.first.e,e.last=m&&m.e;for(var On of i.values())B(On.e);i.clear()}function Pn(e,t,n,i){(i&ze)!==0&&Ee(e.v,t),(i&Ge)!==0?Ee(e.i,n):e.i=n}function An(e,t,n,i,r,s,a,l,o,u,h){var d=(o&ze)!==0,g=(o&ei)===0,f=d?g?en(r,!1,!1):ye(r):r,c=(o&Ge)===0?a:ye(a),v={i:c,v:f,k:s,a:null,e:null,prev:n,next:i};try{if(e===null){var m=document.createDocumentFragment();m.append(e=vt())}return v.e=_t(()=>l(e,f,c,u),ri),v.e.prev=n&&n.e,v.e.next=i&&i.e,n===null?h||(t.first=v):(n.next=v,n.e.next=v.e),i!==null&&(i.prev=v,i.e.prev=v.e),v}finally{}}function Ze(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==i;){var a=Fe(s);r.before(s),s=a}}function F(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Wi(e,t){return e==null?null:String(e)}function tt(e,t,n,i){var r=e.__style;if(r!==t){var s=Wi(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return i}const qi=Symbol("is custom element"),Ui=Symbol("is html");function le(e,t,n,i){var r=Vi(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[Wn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Bi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Vi(e){return e.__attributes??={[qi]:e.nodeName.includes("-"),[Ui]:e.namespaceURI===ii}}var Rt=new Map;function Bi(e){var t=e.getAttribute("is")||e.nodeName,n=Rt.get(t);if(n)return n;Rt.set(t,n=[]);for(var i,r=e,s=Element.prototype;s!==r;){i=Dn(r);for(var a in i)i[a].set&&n.push(a);r=Gt(r)}return n}function Dt(e,t){return e===t||e?.[Ae]===t}function Yi(e={},t,n,i){return Ii(()=>{var r,s;return Ci(()=>{r=s,s=[],wt(()=>{e!==n(...s)&&(t(e,...s),r&&Dt(n(...r),e)&&t(null,...r))})}),()=>{ct(()=>{s&&Dt(n(...s),e)&&t(null,...s)})}}),e}function kn(e,t,n){if(e==null)return t(void 0),ue;const i=wt(()=>e.subscribe(t,n));return i.unsubscribe?()=>i.unsubscribe():i}const ae=[];function bt(e,t=ue){let n=null;const i=new Set;function r(l){if(Vt(e,l)&&(e=l,n)){const o=!ae.length;for(const u of i)u[1](),ae.push(u,e);if(o){for(let u=0;u<ae.length;u+=2)ae[u][0](ae[u+1]);ae.length=0}}}function s(l){r(l(e))}function a(l,o=ue){const u=[l,o];return i.add(u),i.size===1&&(n=t(r,s)||ue),l(e),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:a}}function Ki(e){let t;return kn(e,n=>t=n)(),t}let nt=Symbol();function Ne(e,t,n){const i=n[t]??={store:null,source:en(void 0),unsubscribe:ue};if(i.store!==e&&!(nt in n))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=ue;else{var r=!0;i.unsubscribe=kn(e,s=>{r?i.source.v=s:y(i.source,s)}),r=!1}return e&&nt in n?Ki(e):S(i.source)}function Mt(e,t){return e.set(t),t}function yt(){const e={};function t(){ln(()=>{for(var n in e)e[n].unsubscribe();je(e,nt,{enumerable:!1,value:!0})})}return[e,t]}function jn(e){z===null&&Un(),We(()=>{const t=wt(e);if(typeof t=="function")return t})}const Xi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Xi);function Ji(e,t){t.onclick&&t.onclick(t.index)}function Zi(e,t){y(t,!0)}var Qi=Ue('<div class="container svelte-kyctpi"><input type="image" class="svelte-kyctpi"/></div>');function $i(e,t){xe(t,!0);let n=C(!1),i,r=C(""),s=C(te(t.grid.cellWidth)),a=Xt(()=>S(s)/t.width),l,o=!1,u=(c,v,m,E)=>"";jn(()=>{l.style.zIndex=0,t.imageLoader.onAllLoaded(()=>{o=!0,l.src=t.imageLoader.imageUrls[t.index],y(r,u(i,t.isActive,S(n),o),!0)}),u=(c,v,m,E)=>t.styler?t.styler(c,S(a),t.width,t.height,v,m,E,S(s),l):""}),We(()=>{i=t.grid.getPosition(t.grid.getGridCoordinate(t.index)),y(s,t.grid.cellWidth,!0),y(r,u(i,t.isActive,S(n),o),!0)});function h(){y(n,!1)}function d(){}var g=Qi(),f=an(g);le(f,"src",null),f.__click=[Ji,t],f.__mouseover=[Zi,n],Yi(f,c=>l=c,()=>l),fn(()=>{tt(f,S(r)),le(f,"width",S(s)),le(f,"height",S(s)*t.height/t.width),le(f,"alt",t.alt)}),jt("mouseleave",f,h),jt("focus",f,d),Ve(e,g),Ce()}xn(["click","mouseover"]);const ke=bt(null);function er(e,t){xe(t,!0);const[n,i]=yt(),r=()=>Ne(ke,"$playingStone",n);let s=C(!1);function a(){y(s,t.player.play(t.stone,l),!0),S(s)&&Mt(ke,{stone:t.stone,index:t.index})}function l(o){o.stone.number===t.stone.number&&(y(s,!1),r().index===t.index&&Mt(ke,null))}{let o=Xt(()=>`Stone number ${t.stone.number}`);$i(e,{get index(){return t.index},get grid(){return t.grid},get width(){return t.stone.width},get height(){return t.stone.height},get alt(){return S(o)},onclick:a,get styler(){return t.styler},get isActive(){return S(s)},get imageLoader(){return t.imageLoader}})}Ce(),i()}var tr=Ue("<main></main>");function nr(e,t){const n="#909087",i="#303027";function r(a,l,o,u,h,d,g,f,c){let v="";if(a){const m=a.vCentre-l*u/2;v+=`left: ${a.left}px; top: ${m}px;`,v+=`width: ${f}px;`,c.height=f*u/o,h?(v+=`border-color: ${n};`,v+="opacity: 1;"):d&&(v+=`border-color: ${i};`)}return d&&(v+="filter: contrast(1.2);",v+="filter: brightness(1.2);"),g?v+="opacity: 1;":v+="opacity: 0;",v}var s=tr();Tn(s,21,()=>t.stones,Cn,(a,l,o)=>{er(a,{get stone(){return S(l)},index:o,get grid(){return t.grid},get player(){return t.player},styler:r,get imageLoader(){return t.imageLoader}})}),Ve(e,s)}const oe=[{image:"stone-000.jpg",audio:"Image01.ogg",number:"1",width:840,height:798,gcn:"11191"},{image:"stone-001.jpg",audio:"Image02.ogg",number:"2",width:1043,height:1082,gcn:"11615"},{image:"stone-002.jpg",audio:"Image03.ogg",number:"3",width:950,height:693,gcn:"12138"},{image:"stone-003.jpg",audio:"Image04.ogg",number:"4",width:833,height:867,gcn:"12450"},{image:"stone-004.jpg",audio:"Image05.ogg",number:"5",width:861,height:735,gcn:"12481"},{image:"stone-005.jpg",audio:"Image06.ogg",number:"6",width:863,height:819,gcn:"13056"},{image:"stone-006.jpg",audio:"Image07.ogg",number:"7",width:903,height:922,gcn:"13427"},{image:"stone-007.jpg",audio:"Image08.ogg",number:"8",width:776,height:685,gcn:"13973"},{image:"stone-008.jpg",audio:"Image09.ogg",number:"9",width:903,height:1105,gcn:"14888"},{image:"stone-009.jpg",audio:"Image10.ogg",number:"10",width:880,height:893,gcn:"14889"},{image:"stone-011.jpg",audio:"Image11.ogg",number:"11",width:473,height:553,gcn:"15244"},{image:"stone-012.jpg",audio:"Image12.ogg",number:"12",width:472,height:546,gcn:"15266"},{image:"stone-013.jpg",audio:"Image13.ogg",number:"13",width:476,height:526,gcn:"15286"},{image:"stone-014.jpg",audio:"Image14.ogg",number:"14",width:467,height:533,gcn:"15290"},{image:"stone-015.jpg",audio:"Image15.ogg",number:"15",width:468,height:527,gcn:"15291"},{image:"stone-016.jpg",audio:"Image16.ogg",number:"16",width:883,height:820,gcn:"15292"},{image:"stone-017.jpg",audio:"Image17.ogg",number:"17",width:465,height:513,gcn:"15456"},{image:"stone-018.jpg",audio:"Image18.ogg",number:"18",width:469,height:546,gcn:"15457"},{image:"stone-019.jpg",audio:"Image19.ogg",number:"19",width:807,height:904,gcn:"15828"},{image:"stone-020.jpg",audio:"Image20.ogg",number:"20",width:848,height:848,gcn:"15899"},{image:"stone-021.jpg",audio:"Image21.ogg",number:"21",width:900,height:932,gcn:"15902"},{image:"stone-022.jpg",audio:"Image22.ogg",number:"22",width:469,height:519,gcn:"16000"},{image:"stone-023.jpg",audio:"Image23.ogg",number:"23",width:469,height:524,gcn:"16037"},{image:"stone-024.jpg",audio:"Image24.ogg",number:"24",width:476,height:508,gcn:"16038"},{image:"stone-025.jpg",audio:"Image25.ogg",number:"25",width:476,height:517,gcn:"16039"},{image:"stone-026.jpg",audio:"Image26.ogg",number:"26",width:852,height:810,gcn:"16164"},{image:"stone-027.jpg",audio:"Image27.ogg",number:"27",width:852,height:842,gcn:"16166"},{image:"stone-028.jpg",audio:"Image28.ogg",number:"28",width:686,height:759,gcn:"16300"},{image:"stone-029.jpg",audio:"Image29.ogg",number:"29",width:476,height:528,gcn:"16301"},{image:"stone-030.jpg",audio:"Image30.ogg",number:"30",width:815,height:789,gcn:"16547"},{image:"stone-031.jpg",audio:"Image31.ogg",number:"31",width:859,height:945,gcn:"16720"},{image:"stone-032.jpg",audio:"Image32.ogg",number:"32",width:970,height:806,gcn:"16736"},{image:"stone-033.jpg",audio:"Image33.ogg",number:"33",width:464,height:529,gcn:"18419"},{image:"stone-034.jpg",audio:"Image34.ogg",number:"34",width:412,height:394,gcn:"18421"},{image:"stone-035.jpg",audio:"Image35.ogg",number:"35",width:469,height:537,gcn:"34219"},{image:"stone-036.jpg",audio:"Image36.ogg",number:"36",width:923,height:852,gcn:"34220"},{image:"stone-037.jpg",audio:"Image37.ogg",number:"37",width:920,height:890,gcn:"34201"},{image:"stone-038.jpg",audio:"Image38a.ogg",number:"38a",width:473,height:532,gcn:"34202"},{image:"stone-039.jpg",audio:"Image38b.ogg",number:"38b",width:855,height:861,gcn:"34202"},{image:"stone-040.jpg",audio:"Image39.ogg",number:"39",width:476,height:542,gcn:"34204"},{image:"stone-041.jpg",audio:"Image40.ogg",number:"40",width:497,height:473,gcn:"34206"},{image:"stone-042.jpg",audio:"Image41.ogg",number:"41",width:473,height:537,gcn:"34209"},{image:"stone-043.jpg",audio:"Image42.ogg",number:"42",width:462,height:540,gcn:"34212"},{image:"stone-044.jpg",audio:"Image43.ogg",number:"43",width:465,height:536,gcn:"34214"},{image:"stone-045.jpg",audio:"Image44.ogg",number:"44",width:471,height:506,gcn:"34465"},{image:"stone-046.jpg",audio:"Image45.ogg",number:"45",width:470,height:527,gcn:"34539"},{image:"stone-047.jpg",audio:"Image46.ogg",number:"46",width:1080,height:1089,gcn:"34603"},{image:"stone-048.jpg",audio:"Image47.ogg",number:"47",width:467,height:541,gcn:"34793"},{image:"stone-049.jpg",audio:"Image48.ogg",number:"48",width:877,height:729,gcn:"35875"},{image:"stone-050.jpg",audio:"Image49.ogg",number:"49",width:466,height:526,gcn:"41457"},{image:"stone-051.jpg",audio:"Image50.ogg",number:"50",width:468,height:498,gcn:"41458"},{image:"stone-052.jpg",audio:"Image51.ogg",number:"51",width:844,height:745,gcn:"42366"},{image:"stone-053.jpg",audio:"Image52.ogg",number:"52",width:465,height:548,gcn:"60715"}];class ir{constructor(t,n,i,r,s,a,l){this.width=t,this.height=n,this.columns=i,this.items=r,this.minHEdgePadding=s,this.minVEdgePadding=a,this.gridPadding=l,this.rows=this.getGridCoordinate(r-1).row+1,this.calculateCellSize()}calculateCellSize(){const t=this.columns-1;this.gapSize=Math.floor(this.height*this.gridPadding);const n=this.width*(2*this.minHEdgePadding)+t*this.gapSize,i=Math.floor((this.width-n)/this.columns),r=this.rows-1,s=this.width*2*this.minVEdgePadding+r*this.gapSize,a=Math.floor((this.height-s)/this.rows);this.cellSize=Math.min(i,a),this.columns*this.cellSize+t*this.gapSize,this.hEdgePadding=Math.floor((this.width-this.columns*this.cellSize-t*this.gapSize)/2),this.vEdgePadding=Math.floor((this.height-this.rows*this.cellSize-r*this.gapSize)/2)}getGridCoordinate(t){const n=Math.floor(t/this.columns),i=t%this.columns;return{row:n,column:i}}getPosition(t){const{row:n,column:i}=t,r=this.hEdgePadding+i*(this.cellSize+this.gapSize),s=this.vEdgePadding+this.cellSize/2+n*(this.cellSize+this.gapSize);return{left:r,vCentre:s}}}function rr(e,t,n,i,r){const s=t+(t-1)*i,a=n+(n-1)*r;return e*s/a}class Ht{constructor(t,n,i,r,s,a,l,o){this.containerWidth=t,this.containerHeight=n,this.columns=i,this.items=r,this.minHorizontalEdgePadding=s,this.minVerticalEdgePadding=a,this.horizontalGridSpacingFactor=l,this.verticalGridSpacingFactor=o,this.rows=this.getGridCoordinate(r-1).row+1,this.calculateGridDimensions()}calculateGridDimensions(){const t=rr(1,this.columns,this.rows,this.horizontalGridSpacingFactor,this.verticalGridSpacingFactor),n=this.containerWidth*(1-2*this.minHorizontalEdgePadding),i=this.containerHeight*(1-2*this.minVerticalEdgePadding);n/i>t?(this.verticalEdgePadding=this.containerHeight*this.minVerticalEdgePadding,this.contentHeight=this.containerHeight-2*this.verticalEdgePadding,this.contentWidth=this.contentHeight*t,this.horizontalEdgePadding=(this.containerWidth-this.contentWidth)/2):(this.horizontalEdgePadding=this.containerWidth*this.minHorizontalEdgePadding,this.contentWidth=this.containerWidth-2*this.horizontalEdgePadding,this.contentHeight=this.contentWidth/t,this.verticalEdgePadding=(this.containerHeight-this.contentHeight)/2),this.cellWidth=this.contentWidth/(this.columns+this.horizontalGridSpacingFactor*(this.columns-1)),this.cellHeight=this.contentHeight/(this.rows+this.verticalGridSpacingFactor*(this.rows-1)),this.horizontalGridSpacing=this.cellWidth*this.horizontalGridSpacingFactor,this.verticalGridSpacing=this.cellHeight*this.verticalGridSpacingFactor}getGridCoordinate(t){const n=Math.floor(t/this.columns),i=t%this.columns;return{row:n,column:i}}getPosition(t){const{row:n,column:i}=t,r=this.horizontalEdgePadding+i*(this.cellWidth+this.horizontalGridSpacing),s=this.verticalEdgePadding+this.cellHeight/2+n*(this.cellHeight+this.verticalGridSpacing);return{left:r,vCentre:s}}}const Nt=.25;class sr{constructor(t,n,i){const r=`audio/${n.audio}`;this.audioCtx=t,this.stoneData=n,this.endedCallback=i,this.ended=!1,this.started=!1,this.paused=!1,this.source=t.createBufferSource(),this.gain=t.createGain(),this.source.connect(this.gain),this.gain.connect(t.destination),this.request=new XMLHttpRequest,this.request.open("GET",r),this.request.responseType="arraybuffer",this.request.onload=()=>{let s=this.request.response;t.decodeAudioData(s,a=>this.source.buffer=a),this.started||(this.started=!0,this.source.start(),this.source.onended=a=>{this.ended=!0,this.endedCallback({e:a,stone:this.stoneData})})}}start(){this.request.send()}pause(){this.started&&(this.ended||(this.paused?(this.gain.gain.setValueAtTime(1,this.audioCtx.currentTime),this.audioCtx.resume(),this.paused=!1):(this.gain.gain.setValueAtTime(0,this.audioCtx.currentTime),setTimeout(()=>this.audioCtx.suspend(),10),this.paused=!0)))}stop(){this.started?this.ended||(this.paused?(this.audioCtx.resume(),this.paused=!1,this.source.stop(this.audioCtx.currentTime)):(this.gain.gain.linearRampToValueAtTime(0,this.audioCtx.currentTime+Nt),this.source.stop(this.audioCtx.currentTime+Nt))):(this.started=!0,this.ended=!0,this.endedCallback({e:null,stone:this.stoneData}))}}class ar{constructor(){this.initialised=!1}initialise(){this.audioCtx=new AudioContext}stop(){this.source&&this.source.stop()}pause(){this.source&&this.source.pause()}play(t,n){return this.stoneData&&this.stoneData.number===t.number&&!this.source.ended?(this.stop(),!1):(this.initialised||(this.initialise(),this.initialised=!0),this.stop(),this.endedCallback=n,this.stoneData=t,this.source=new sr(this.audioCtx,t,n),this.source.start(),!0)}}class or{constructor(t,n){this.imageUrls=Array(t.length);let i=0;for(const r of t){const s=i,a=new XMLHttpRequest,l=r.number.length===1?`0${r.number}`:r.number,o=`images/${n}/${l}-${n}.jpg`;a.open("GET",o,!0),a.responseType="arraybuffer",a.onload=u=>{const h=new Uint8Array(a.response),d=new Blob([h],{type:"image/jpeg"}),f=(window.URL||window.webkitURL).createObjectURL(d);this.onloaded(s,f)},a.send(),i++}this.loadedCount=0,this.timerStart=Date.now().valueOf(),this.callbacks=[]}onloaded(t,n){this.imageUrls[t]=n,this.loadedCount++,this.loadedCount===this.imageUrls.length&&(console.log(`All loaded in ${Date.now().valueOf()-this.timerStart}ms`),this.callbacks.forEach(i=>i()))}onAllLoaded(t){this.callbacks.push(t)}}class lr{constructor(t){this.imgSize=t,this.srcs={}}getSrc(t,n){const i=this.srcs[t];i?n(i):this.loadImage(t,n)}getUrl(t){const n=t.length===1?`0${t}`:t;return`images/${this.imgSize}/${n}-${this.imgSize}.jpg`}loadImage(t,n){const i=new XMLHttpRequest;i.open("GET",this.getUrl(t),!0),i.responseType="arraybuffer",i.onload=r=>{const s=new Uint8Array(i.response),a=new Blob([s],{type:"image/jpeg"}),o=(window.URL||window.webkitURL).createObjectURL(a);this.srcs[t]=o,n(o)},i.send()}}class ur{constructor(t,n,i=.97,r){this.containerWidth=t,this.containerHeight=n,this.maxImageSizeRatio=i,this.maxImageWidth=r}setElementDimensions(t,n){this.elementDimensions={width:t,height:n},this.setScale(),this.height=this.scale*this.elementDimensions.height,this.width=this.scale*this.elementDimensions.width}setScale(){const t=this.getMaxImageToContainerRatio();t>this.maxImageSizeRatio?this.scale=this.maxImageSizeRatio/t:this.scale=this.maxImageSizeRatio/t,this.scale*this.elementDimensions.width>this.maxImageWidth&&(this.scale=this.scale*this.maxImageWidth/(this.scale*this.elementDimensions.width))}getOffsets(){const t=(this.containerWidth-this.scale*this.elementDimensions.width)/2,n=(this.containerHeight-this.height)/2;return{left:t,top:n}}getOffsetCSS(){if(!this.elementDimensions)return"";const t=this.getOffsets();return`left: ${t.left}px; top: ${t.top}px;`}getDimensionsCSS(){return this.elementDimensions?`width: ${this.width}px; height: ${this.height}px`:""}getMaxImageToContainerRatio(){const t=this.elementDimensions.width/this.containerWidth,n=this.elementDimensions.height/this.containerHeight;return Math.max(t,n)}}function fr(e,t){t.player.pause()}function cr(e,t){t.player.stop()}var hr=Ue('<div class="container svelte-7mipct"><img class="main-image svelte-7mipct" role="none"/> <img class="close-button svelte-7mipct" src="./close-button.svg" alt="close" role="none"/></div>');function dr(e,t){xe(t,!0);const[n,i]=yt(),r=()=>Ne(ke,"$playingStone",n),s=1e3;let a=C(""),l=C(""),o=C(""),u=C(""),h=C(!1),d=C(null);const g=`Stone number ${t.stone.number}`,f=new ur(t.windowWidth,t.windowHeight,void 0,1600);f.setElementDimensions(t.stone.width,t.stone.height),y(a,f.getOffsetCSS(),!0),jn(()=>{y(a,`width: ${f.width}px; height: ${f.height}px`),y(o,`left: ${f.width-30}px; top: 0px`);let b=f.height-85;y(u,`top: ${b}px`)});function c(){t.imageLoader.getSrc(t.stone.number,b=>{y(d,b,!0),E(),setTimeout(I)})}function v(){E(),setTimeout(m,s)}function m(){y(a,`transition: ${s/1e3}s ease-in-out;display: none;`+f.getOffsetCSS()+f.getDimensionsCSS())}function E(){y(a,`transition: ${s/1e3}s ease-in-out;display: inline-block;opacity: 0;`+f.getOffsetCSS()+f.getDimensionsCSS())}function I(){y(a,`transition: ${s/1e3}s ease-in-out;display: inline-block;opacity: 1;`+f.getOffsetCSS()+f.getDimensionsCSS())}function T(b){y(l,f.getDimensionsCSS(),!0),b&&b.index===t.index?(y(h,!0),c()):S(h)&&(y(h,!1),v())}We(()=>{T(r())});var j=hr(),x=an(j);x.__click=[fr,t];var w=on(x,2);w.__click=[cr,t],fn(()=>{tt(j,S(a)),tt(x,S(l)),le(x,"src",S(d)),le(x,"alt",g)}),Ve(e,j),Ce(),i()}xn(["click"]);const gr="#272727",vr=bt(gr),mr={columns:9,hEdgePadding:3,vEdgePadding:3,hGridSpacing:15,vGridSpacing:25},_r=bt(mr);var pr=Ue("<!> <!>",1);function wr(e,t){xe(t,!0);const[n,i]=yt(),r=()=>Ne(_r,"$gridSettings",n),s=()=>Ne(vr,"$backgroundColor",n);let a=document.body.clientWidth,l=document.body.clientHeight,o=C(te(new Ht(a,l,r().columns,oe.length,r().hEdgePadding/100,r().vEdgePadding/100,r().hGridSpacing/100,r().vGridSpacing/100)));We(()=>{document.body.style.backgroundColor=s(),y(o,new Ht(a,l,r().columns,oe.length,r().hEdgePadding/100,r().vEdgePadding/100,r().hGridSpacing/100,r().vGridSpacing/100),!0)});const u=new or(oe,192),h=new lr(1024);new ir(a,l,9,oe.length,.01,.02,.03);const d=new ar;var g=pr(),f=pi(g);nr(f,{get stones(){return oe},get grid(){return S(o)},get imageLoader(){return u},get player(){return d}});var c=on(f,2);Tn(c,17,()=>oe,Cn,(v,m,E)=>{dr(v,{index:E,get stone(){return S(m)},get imageLoader(){return h},get windowWidth(){return a},get windowHeight(){return l},get player(){return d}})}),Ve(e,g),Ce(),i()}Hi(wr,{target:document.getElementById("app")});
