(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();const _i=!1;var At=Array.isArray,Rn=Array.prototype.indexOf,jt=Array.from,$e=Object.defineProperty,Ne=Object.getOwnPropertyDescriptor,Dn=Object.getOwnPropertyDescriptors,On=Object.prototype,Gn=Array.prototype,pi=Object.getPrototypeOf,ii=Object.isExtensible;const ve=()=>{};function wi(e){for(var t=0;t<e.length;t++)e[t]()}function Wn(){var e,t,i=new Promise((n,r)=>{e=n,t=r});return{promise:i,resolve:e,reject:t}}const N=2,Lt=4,Ht=8,Me=16,se=32,we=64,bi=128,U=256,et=512,M=1024,V=2048,de=4096,Y=8192,Re=16384,Mt=32768,st=65536,ni=1<<17,Nn=1<<18,Ye=1<<19,Fn=1<<20,Et=1<<21,Rt=1<<22,me=1<<23,Ke=Symbol("$state"),qn=Symbol(""),Dt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Un(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Vn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Bn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Yn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Xn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Kn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Jn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Zn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Qn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function $n(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const at=1,ot=2,yi=4,er=8,tr=16,ir=1,nr=2,H=Symbol(),rr="http://www.w3.org/1999/xhtml";let sr=!1;function Si(e){return e===this.v}function Ei(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function xi(e){return!Ei(e,this.v)}let ar=!1,B=null;function tt(e){B=e}function be(e,t=!1,i){B={p:B,c:null,e:null,s:e,x:null,l:null}}function ye(e){var t=B,i=t.e;if(i!==null){t.e=null;for(var n of i)Ni(n)}return B=t.p,{}}function Ii(){return!0}const or=new WeakMap;function lr(e){var t=P;if(t===null)return C.f|=me,e;if((t.f&Mt)===0){if((t.f&bi)===0)throw!t.parent&&e instanceof Error&&Ci(e),e;t.b.error(e)}else Ot(e,t)}function Ot(e,t){for(;t!==null;){if((t.f&bi)!==0)try{t.b.error(e);return}catch(i){e=i}t=t.parent}throw e instanceof Error&&Ci(e),e}function Ci(e){const t=or.get(e);t&&($e(e,"message",{value:t.message}),$e(e,"stack",{value:t.stack}))}let Fe=[],xt=[];function ki(){var e=Fe;Fe=[],wi(e)}function ur(){var e=xt;xt=[],wi(e)}function Gt(e){Fe.length===0&&queueMicrotask(ki),Fe.push(e)}function cr(){Fe.length>0&&ki(),xt.length>0&&ur()}function dr(){for(var e=P.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Un(),e}function Wt(e){var t=N|V,i=C!==null&&(C.f&N)!==0?C:null;return P===null||i!==null&&(i.f&U)!==0?t|=U:P.f|=Ye,{ctx:B,deps:null,effects:null,equals:Si,f:t,fn:e,reactions:null,rv:0,v:H,wv:0,parent:i??P,ac:null}}function fr(e,t){let i=P;i===null&&Bn();var n=i.b,r=void 0,s=qe(H),a=null,u=!C;return Pr(()=>{try{var o=e();a&&Promise.resolve(o).catch(()=>{})}catch(c){o=Promise.reject(c)}var l=()=>o;r=a?.then(l,l)??Promise.resolve(o),a=r;var f=j,g=n.pending;u&&(n.update_pending_count(1),g||f.increment());const m=(c,d=void 0)=>{a=null,g||f.activate(),d?d!==Dt&&(s.f|=me,Ue(s,d)):((s.f&me)!==0&&(s.f^=me),Ue(s,c)),u&&(n.update_pending_count(-1),g||f.decrement()),Ti()};if(r.then(m,c=>m(null,c||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(o=>{function l(f){function g(){f===r?o(s):l(r)}f.then(g,g)}l(r)})}function lt(e){const t=Wt(e);return Xi(t),t}function hr(e){const t=Wt(e);return t.equals=xi,t}function Pi(e){var t=e.effects;if(t!==null){e.effects=null;for(var i=0;i<t.length;i+=1)$(t[i])}}function gr(e){for(var t=e.parent;t!==null;){if((t.f&N)===0)return t;t=t.parent}return null}function Nt(e){var t,i=P;ue(gr(e));try{Pi(e),t=Qi(e)}finally{ue(i)}return t}function zi(e){var t=Nt(e);if(e.equals(t)||(e.v=t,e.wv=Ji()),!De){var i=(oe||(e.f&U)!==0)&&e.deps!==null?de:M;G(e,i)}}function vr(e,t,i){const n=Wt;if(t.length===0){i(e.map(n));return}var r=j,s=P,a=mr(),u=dr();Promise.all(t.map(o=>fr(o))).then(o=>{r?.activate(),a();try{i([...e.map(n),...o])}catch(l){(s.f&Re)===0&&Ot(l,s)}r?.deactivate(),Ti()}).catch(o=>{u.error(o)})}function mr(){var e=P,t=C,i=B,n=j;return function(){ue(e),ee(t),tt(i),n?.activate()}}function Ti(){ue(null),ee(null),tt(null)}const _t=new Set;let j=null,Je=null,ri=new Set,it=[];function Ai(){const e=it.shift();it.length>0&&queueMicrotask(Ai),e()}let pe=[],ut=null,It=!1,Ze=!1;class Ae{current=new Map;#l=new Map;#r=new Set;#e=0;#u=null;#c=!1;#i=[];#s=[];#n=[];#t=[];#a=[];#d=[];#f=[];skipped_effects=new Set;process(t){pe=[],Je=null;for(const r of t)this.#g(r);if(this.#i.length===0&&this.#e===0){this.#h();var i=this.#n,n=this.#t;this.#n=[],this.#t=[],this.#a=[],Je=j,j=null,si(i),si(n),j===null?j=this:_t.delete(this),this.#u?.resolve()}else this.#o(this.#n),this.#o(this.#t),this.#o(this.#a);for(const r of this.#i)ze(r);for(const r of this.#s)ze(r);this.#i=[],this.#s=[]}#g(t){t.f^=M;for(var i=t.first;i!==null;){var n=i.f,r=(n&(se|we))!==0,s=r&&(n&M)!==0,a=s||(n&Y)!==0||this.skipped_effects.has(i);if(!a&&i.fn!==null){if(r)i.f^=M;else if((n&Lt)!==0)this.#t.push(i);else if((n&M)===0)if((n&Rt)!==0){var u=i.b?.pending?this.#s:this.#i;u.push(i)}else gt(i)&&((i.f&Me)!==0&&this.#a.push(i),ze(i));var o=i.first;if(o!==null){i=o;continue}}var l=i.parent;for(i=i.next;i===null&&l!==null;)i=l.next,l=l.parent}}#o(t){for(const i of t)((i.f&V)!==0?this.#d:this.#f).push(i),G(i,M);t.length=0}capture(t,i){this.#l.has(t)||this.#l.set(t,i),this.current.set(t,t.v)}activate(){j=this}deactivate(){j=null,Je=null;for(const t of ri)if(ri.delete(t),t(),j!==null)break}neuter(){this.#c=!0}flush(){pe.length>0?ji():this.#h(),j===this&&(this.#e===0&&_t.delete(this),this.deactivate())}#h(){if(!this.#c)for(const t of this.#r)t();this.#r.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#d)G(t,V),je(t);for(const t of this.#f)G(t,de),je(t);this.#n=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#r.add(t)}settled(){return(this.#u??=Wn()).promise}static ensure(){if(j===null){const t=j=new Ae;_t.add(j),Ze||Ae.enqueue(()=>{j===t&&t.flush()})}return j}static enqueue(t){it.length===0&&queueMicrotask(Ai),it.unshift(t)}}function _r(e){var t=Ze;Ze=!0;try{for(var i;;){if(cr(),pe.length===0&&(j?.flush(),pe.length===0))return ut=null,i;ji()}}finally{Ze=t}}function ji(){var e=Pe;It=!0;try{var t=0;for(li(!0);pe.length>0;){var i=Ae.ensure();if(t++>1e3){var n,r;pr()}i.process(pe),le.clear()}}finally{It=!1,li(e),ut=null}}function pr(){try{Jn()}catch(e){Ot(e,ut)}}let he=null;function si(e){var t=e.length;if(t!==0){for(var i=0;i<t;){var n=e[i++];if((n.f&(Re|Y))===0&&gt(n)&&(he=[],ze(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null&&n.ac===null?Vi(n):n.fn=null),he?.length>0)){le.clear();for(const r of he)ze(r);he=[]}}he=null}}function je(e){for(var t=ut=e;t.parent!==null;){t=t.parent;var i=t.f;if(It&&t===P&&(i&Me)!==0)return;if((i&(we|se))!==0){if((i&M)===0)return;t.f^=M}}pe.push(t)}const le=new Map;function qe(e,t){var i={f:0,v:e,reactions:null,equals:Si,rv:0,wv:0};return i}function z(e,t){const i=qe(e);return Xi(i),i}function Li(e,t=!1,i=!0){const n=qe(e);return t||(n.equals=xi),n}function _(e,t,i=!1){C!==null&&(!Q||(C.f&ni)!==0)&&Ii()&&(C.f&(N|Me|Rt|ni))!==0&&!re?.includes(e)&&$n();let n=i?q(t):t;return Ue(e,n)}function Ue(e,t){if(!e.equals(t)){var i=e.v;De?le.set(e,t):le.set(e,i),e.v=t;var n=Ae.ensure();n.capture(e,i),(e.f&N)!==0&&((e.f&V)!==0&&Nt(e),G(e,(e.f&U)===0?M:de)),e.wv=Ji(),Hi(e,V),P!==null&&(P.f&M)!==0&&(P.f&(se|we))===0&&(F===null?Ar([e]):F.push(e))}return t}function wr(e,t=1){var i=h(e),n=t===1?i++:i--;return _(e,i),n}function pt(e){_(e,e.v+1)}function Hi(e,t){var i=e.reactions;if(i!==null)for(var n=i.length,r=0;r<n;r++){var s=i[r],a=s.f,u=(a&V)===0;u&&G(s,t),(a&N)!==0?Hi(s,de):u&&((a&Me)!==0&&he!==null&&he.push(s),je(s))}}function q(e){if(typeof e!="object"||e===null||Ke in e)return e;const t=pi(e);if(t!==On&&t!==Gn)return e;var i=new Map,n=At(e),r=z(0),s=_e,a=u=>{if(_e===s)return u();var o=C,l=_e;ee(null),ci(s);var f=u();return ee(o),ci(l),f};return n&&i.set("length",z(e.length)),new Proxy(e,{defineProperty(u,o,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Zn();var f=i.get(o);return f===void 0?f=a(()=>{var g=z(l.value);return i.set(o,g),g}):_(f,l.value,!0),!0},deleteProperty(u,o){var l=i.get(o);if(l===void 0){if(o in u){const f=a(()=>z(H));i.set(o,f),pt(r)}}else _(l,H),pt(r);return!0},get(u,o,l){if(o===Ke)return e;var f=i.get(o),g=o in u;if(f===void 0&&(!g||Ne(u,o)?.writable)&&(f=a(()=>{var c=q(g?u[o]:H),d=z(c);return d}),i.set(o,f)),f!==void 0){var m=h(f);return m===H?void 0:m}return Reflect.get(u,o,l)},getOwnPropertyDescriptor(u,o){var l=Reflect.getOwnPropertyDescriptor(u,o);if(l&&"value"in l){var f=i.get(o);f&&(l.value=h(f))}else if(l===void 0){var g=i.get(o),m=g?.v;if(g!==void 0&&m!==H)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return l},has(u,o){if(o===Ke)return!0;var l=i.get(o),f=l!==void 0&&l.v!==H||Reflect.has(u,o);if(l!==void 0||P!==null&&(!f||Ne(u,o)?.writable)){l===void 0&&(l=a(()=>{var m=f?q(u[o]):H,c=z(m);return c}),i.set(o,l));var g=h(l);if(g===H)return!1}return f},set(u,o,l,f){var g=i.get(o),m=o in u;if(n&&o==="length")for(var c=l;c<g.v;c+=1){var d=i.get(c+"");d!==void 0?_(d,H):c in u&&(d=a(()=>z(H)),i.set(c+"",d))}if(g===void 0)(!m||Ne(u,o)?.writable)&&(g=a(()=>z(void 0)),_(g,q(l)),i.set(o,g));else{m=g.v!==H;var v=a(()=>q(l));_(g,v)}var p=Reflect.getOwnPropertyDescriptor(u,o);if(p?.set&&p.set.call(f,l),!m){if(n&&typeof o=="string"){var x=i.get("length"),S=Number(o);Number.isInteger(S)&&S>=x.v&&_(x,S+1)}pt(r)}return!0},ownKeys(u){h(r);var o=Reflect.ownKeys(u).filter(g=>{var m=i.get(g);return m===void 0||m.v!==H});for(var[l,f]of i)f.v!==H&&!(l in u)&&o.push(l);return o},setPrototypeOf(){Qn()}})}var ai,Mi,Ri,Di;function br(){if(ai===void 0){ai=window,Mi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,i=Text.prototype;Ri=Ne(t,"firstChild").get,Di=Ne(t,"nextSibling").get,ii(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ii(i)&&(i.__t=void 0)}}function ct(e=""){return document.createTextNode(e)}function nt(e){return Ri.call(e)}function dt(e){return Di.call(e)}function k(e,t){return nt(e)}function Oi(e,t){{var i=nt(e);return i instanceof Comment&&i.data===""?dt(i):i}}function y(e,t=1,i=!1){let n=e;for(;t--;)n=dt(n);return n}function yr(e){e.textContent=""}function Gi(){return!1}let oi=!1;function Sr(){oi||(oi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ft(e){var t=C,i=P;ee(null),ue(null);try{return e()}finally{ee(t),ue(i)}}function Er(e,t,i,n=i){e.addEventListener(t,()=>ft(i));const r=e.__on_r;r?e.__on_r=()=>{r(),n(!0)}:e.__on_r=()=>n(!0),Sr()}function xr(e){P===null&&C===null&&Kn(),C!==null&&(C.f&U)!==0&&P===null&&Xn(),De&&Yn()}function Ir(e,t){var i=t.last;i===null?t.last=t.first=e:(i.next=e,e.prev=i,t.last=e)}function ae(e,t,i,n=!0){var r=P;r!==null&&(r.f&Y)!==0&&(e|=Y);var s={ctx:B,deps:null,nodes_start:null,nodes_end:null,f:e|V,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(i)try{ze(s),s.f|=Mt}catch(o){throw $(s),o}else t!==null&&je(s);if(n){var a=s;if(i&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&Ye)===0&&(a=a.first),a!==null&&(a.parent=r,r!==null&&Ir(a,r),C!==null&&(C.f&N)!==0&&(e&we)===0)){var u=C;(u.effects??=[]).push(a)}}return s}function Wi(e){const t=ae(Ht,null,!1);return G(t,M),t.teardown=e,t}function Le(e){xr();var t=P.f,i=!C&&(t&se)!==0&&(t&Mt)===0;if(i){var n=B;(n.e??=[]).push(e)}else return Ni(e)}function Ni(e){return ae(Lt|Fn,e,!1)}function Cr(e){Ae.ensure();const t=ae(we|Ye,e,!0);return(i={})=>new Promise(n=>{i.outro?qt(t,()=>{$(t),n(void 0)}):($(t),n(void 0))})}function kr(e){return ae(Lt,e,!1)}function Pr(e){return ae(Rt|Ye,e,!0)}function Fi(e,t=0){return ae(Ht|t,e,!0)}function ht(e,t=[],i=[]){vr(t,i,n=>{ae(Ht,()=>e(...n.map(h)),!0)})}function Ft(e,t=0){var i=ae(Me|t,e,!0);return i}function He(e,t=!0){return ae(se|Ye,e,!0,t)}function qi(e){var t=e.teardown;if(t!==null){const i=De,n=C;ui(!0),ee(null);try{t.call(null)}finally{ui(i),ee(n)}}}function Ui(e,t=!1){var i=e.first;for(e.first=e.last=null;i!==null;){const r=i.ac;r!==null&&ft(()=>{r.abort(Dt)});var n=i.next;(i.f&we)!==0?i.parent=null:$(i,t),i=n}}function zr(e){for(var t=e.first;t!==null;){var i=t.next;(t.f&se)===0&&$(t),t=i}}function $(e,t=!0){var i=!1;(t||(e.f&Nn)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Tr(e.nodes_start,e.nodes_end),i=!0),Ui(e,t&&!i),rt(e,0),G(e,Re);var n=e.transitions;if(n!==null)for(const s of n)s.stop();qi(e);var r=e.parent;r!==null&&r.first!==null&&Vi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Tr(e,t){for(;e!==null;){var i=e===t?null:dt(e);e.remove(),e=i}}function Vi(e){var t=e.parent,i=e.prev,n=e.next;i!==null&&(i.next=n),n!==null&&(n.prev=i),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=i))}function qt(e,t){var i=[];Ut(e,i,!0),Bi(i,()=>{$(e),t&&t()})}function Bi(e,t){var i=e.length;if(i>0){var n=()=>--i||t();for(var r of e)r.out(n)}else t()}function Ut(e,t,i){if((e.f&Y)===0){if(e.f^=Y,e.transitions!==null)for(const a of e.transitions)(a.is_global||i)&&t.push(a);for(var n=e.first;n!==null;){var r=n.next,s=(n.f&st)!==0||(n.f&se)!==0;Ut(n,t,s?i:!1),n=r}}}function Vt(e){Yi(e,!0)}function Yi(e,t){if((e.f&Y)!==0){e.f^=Y,(e.f&M)===0&&(G(e,V),je(e));for(var i=e.first;i!==null;){var n=i.next,r=(i.f&st)!==0||(i.f&se)!==0;Yi(i,r?t:!1),i=n}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let Pe=!1;function li(e){Pe=e}let De=!1;function ui(e){De=e}let C=null,Q=!1;function ee(e){C=e}let P=null;function ue(e){P=e}let re=null;function Xi(e){C!==null&&(re===null?re=[e]:re.push(e))}let D=null,W=0,F=null;function Ar(e){F=e}let Ki=1,Ve=0,_e=Ve;function ci(e){_e=e}let oe=!1;function Ji(){return++Ki}function gt(e){var t=e.f;if((t&V)!==0)return!0;if((t&de)!==0){var i=e.deps,n=(t&U)!==0;if(i!==null){var r,s,a=(t&et)!==0,u=n&&P!==null&&!oe,o=i.length;if((a||u)&&(P===null||(P.f&Re)===0)){var l=e,f=l.parent;for(r=0;r<o;r++)s=i[r],(a||!s?.reactions?.includes(l))&&(s.reactions??=[]).push(l);a&&(l.f^=et),u&&f!==null&&(f.f&U)===0&&(l.f^=U)}for(r=0;r<o;r++)if(s=i[r],gt(s)&&zi(s),s.wv>e.wv)return!0}(!n||P!==null&&!oe)&&G(e,M)}return!1}function Zi(e,t,i=!0){var n=e.reactions;if(n!==null&&!re?.includes(e))for(var r=0;r<n.length;r++){var s=n[r];(s.f&N)!==0?Zi(s,t,!1):t===s&&(i?G(s,V):(s.f&M)!==0&&G(s,de),je(s))}}function Qi(e){var t=D,i=W,n=F,r=C,s=oe,a=re,u=B,o=Q,l=_e,f=e.f;D=null,W=0,F=null,oe=(f&U)!==0&&(Q||!Pe||C===null),C=(f&(se|we))===0?e:null,re=null,tt(e.ctx),Q=!1,_e=++Ve,e.ac!==null&&(ft(()=>{e.ac.abort(Dt)}),e.ac=null);try{e.f|=Et;var g=e.fn,m=g(),c=e.deps;if(D!==null){var d;if(rt(e,W),c!==null&&W>0)for(c.length=W+D.length,d=0;d<D.length;d++)c[W+d]=D[d];else e.deps=c=D;if(!oe||(f&N)!==0&&e.reactions!==null)for(d=W;d<c.length;d++)(c[d].reactions??=[]).push(e)}else c!==null&&W<c.length&&(rt(e,W),c.length=W);if(Ii()&&F!==null&&!Q&&c!==null&&(e.f&(N|de|V))===0)for(d=0;d<F.length;d++)Zi(F[d],e);return r!==null&&r!==e&&(Ve++,F!==null&&(n===null?n=F:n.push(...F))),(e.f&me)!==0&&(e.f^=me),m}catch(v){return lr(v)}finally{e.f^=Et,D=t,W=i,F=n,C=r,oe=s,re=a,tt(u),Q=o,_e=l}}function jr(e,t){let i=t.reactions;if(i!==null){var n=Rn.call(i,e);if(n!==-1){var r=i.length-1;r===0?i=t.reactions=null:(i[n]=i[r],i.pop())}}i===null&&(t.f&N)!==0&&(D===null||!D.includes(t))&&(G(t,de),(t.f&(U|et))===0&&(t.f^=et),Pi(t),rt(t,0))}function rt(e,t){var i=e.deps;if(i!==null)for(var n=t;n<i.length;n++)jr(e,i[n])}function ze(e){var t=e.f;if((t&Re)===0){G(e,M);var i=P,n=Pe;P=e,Pe=!0;try{(t&Me)!==0?zr(e):Ui(e),qi(e);var r=Qi(e);e.teardown=typeof r=="function"?r:null,e.wv=Ki;var s;_i&&ar&&(e.f&V)!==0&&e.deps}finally{Pe=n,P=i}}}async function Lr(){await Promise.resolve(),_r()}function h(e){var t=e.f,i=(t&N)!==0;if(C!==null&&!Q){var n=P!==null&&(P.f&Re)!==0;if(!n&&!re?.includes(e)){var r=C.deps;if((C.f&Et)!==0)e.rv<Ve&&(e.rv=Ve,D===null&&r!==null&&r[W]===e?W++:D===null?D=[e]:(!oe||!D.includes(e))&&D.push(e));else{(C.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[C]:s.includes(C)||s.push(C)}}}else if(i&&e.deps===null&&e.effects===null){var a=e,u=a.parent;u!==null&&(u.f&U)===0&&(a.f^=U)}if(De){if(le.has(e))return le.get(e);if(i){a=e;var o=a.v;return((a.f&M)===0&&a.reactions!==null||$i(a))&&(o=Nt(a)),le.set(a,o),o}}else i&&(a=e,gt(a)&&zi(a));if((e.f&me)!==0)throw e.v;return e.v}function $i(e){if(e.v===H)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(le.has(t)||(t.f&N)!==0&&$i(t))return!0;return!1}function vt(e){var t=Q;try{return Q=!0,e()}finally{Q=t}}const Hr=-7169;function G(e,t){e.f=e.f&Hr|t}const Mr=["touchstart","touchmove"];function Rr(e){return Mr.includes(e)}const en=new Set,Ct=new Set;function Dr(e,t,i,n={}){function r(s){if(n.capture||We.call(t,s),!s.cancelBubble)return ft(()=>i?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Gt(()=>{t.addEventListener(e,r,n)}):t.addEventListener(e,r,n),r}function ke(e,t,i,n,r){var s={capture:n,passive:r},a=Dr(e,t,i,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Wi(()=>{t.removeEventListener(e,a,s)})}function Oe(e){for(var t=0;t<e.length;t++)en.add(e[t]);for(var i of Ct)i(e)}let di=null;function We(e){var t=this,i=t.ownerDocument,n=e.type,r=e.composedPath?.()||[],s=r[0]||e.target;di=e;var a=0,u=di===e&&e.__root;if(u){var o=r.indexOf(u);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var l=r.indexOf(t);if(l===-1)return;o<=l&&(a=o)}if(s=r[a]||e.target,s!==t){$e(e,"currentTarget",{configurable:!0,get(){return s||i}});var f=C,g=P;ee(null),ue(null);try{for(var m,c=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var v=s["__"+n];if(v!=null&&(!s.disabled||e.target===s))if(At(v)){var[p,...x]=v;p.apply(s,[e,...x])}else v.call(s,e)}catch(S){m?c.push(S):m=S}if(e.cancelBubble||d===t||d===null)break;s=d}if(m){for(let S of c)queueMicrotask(()=>{throw S});throw m}}finally{e.__root=t,delete e.currentTarget,ee(f),ue(g)}}}function Or(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function fi(e,t){var i=P;i.nodes_start===null&&(i.nodes_start=e,i.nodes_end=t)}function fe(e,t){var i=(t&ir)!==0,n=(t&nr)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=Or(s?e:"<!>"+e),i||(r=nt(r)));var a=n||Mi?document.importNode(r,!0):r.cloneNode(!0);if(i){var u=nt(a),o=a.lastChild;fi(u,o)}else fi(a,a);return a}}function ce(e,t){e!==null&&e.before(t)}function J(e,t){var i=t==null?"":typeof t=="object"?t+"":t;i!==(e.__t??=e.nodeValue)&&(e.__t=i,e.nodeValue=i+"")}function Gr(e,t){return Wr(e,t)}const xe=new Map;function Wr(e,{target:t,anchor:i,props:n={},events:r,context:s,intro:a=!0}){br();var u=new Set,o=g=>{for(var m=0;m<g.length;m++){var c=g[m];if(!u.has(c)){u.add(c);var d=Rr(c);t.addEventListener(c,We,{passive:d});var v=xe.get(c);v===void 0?(document.addEventListener(c,We,{passive:d}),xe.set(c,1)):xe.set(c,v+1)}}};o(jt(en)),Ct.add(o);var l=void 0,f=Cr(()=>{var g=i??t.appendChild(ct());return He(()=>{if(s){be({});var m=B;m.c=s}r&&(n.$$events=r),l=e(g,n)||{},s&&ye()}),()=>{for(var m of u){t.removeEventListener(m,We);var c=xe.get(m);--c===0?(document.removeEventListener(m,We),xe.delete(m)):xe.set(m,c)}Ct.delete(o),g!==i&&g.parentNode?.removeChild(g)}});return Nr.set(l,f),l}let Nr=new WeakMap;function kt(e,t,i=!1){var n=e,r=null,s=null,a=H,u=i?st:0,o=!1;const l=(c,d=!0)=>{o=!0,m(d,c)};var f=null;function g(){f!==null&&(f.lastChild.remove(),n.before(f),f=null);var c=a?r:s,d=a?s:r;c&&Vt(c),d&&qt(d,()=>{a?s=null:r=null})}const m=(c,d)=>{if(a!==(a=c)){var v=Gi(),p=n;if(v&&(f=document.createDocumentFragment(),f.append(p=ct())),a?r??=d&&He(()=>d(p)):s??=d&&He(()=>d(p)),v){var x=j,S=a?r:s,A=a?s:r;S&&x.skipped_effects.delete(S),A&&x.skipped_effects.add(A),x.add_callback(g)}else g()}};Ft(()=>{o=!1,t(l),o||m(null,null)},u)}function tn(e,t){return t}function Fr(e,t,i){for(var n=e.items,r=[],s=t.length,a=0;a<s;a++)Ut(t[a].e,r,!0);var u=s>0&&r.length===0&&i!==null;if(u){var o=i.parentNode;yr(o),o.append(i),n.clear(),Z(e,t[0].prev,t[s-1].next)}Bi(r,()=>{for(var l=0;l<s;l++){var f=t[l];u||(n.delete(f.k),Z(e,f.prev,f.next)),$(f.e,!u)}})}function nn(e,t,i,n,r,s=null){var a=e,u={flags:t,items:new Map,first:null},o=(t&yi)!==0;if(o){var l=e;a=l.appendChild(ct())}var f=null,g=!1,m=new Map,c=hr(()=>{var x=i();return At(x)?x:x==null?[]:jt(x)}),d,v;function p(){qr(v,d,u,m,a,r,t,n,i),s!==null&&(d.length===0?f?Vt(f):f=He(()=>s(a)):f!==null&&qt(f,()=>{f=null}))}Ft(()=>{v??=P,d=h(c);var x=d.length;if(!(g&&x===0)){g=x===0;var S,A,T,I;if(Gi()){var E=new Set,b=j;for(A=0;A<x;A+=1){T=d[A],I=n(T,A);var R=u.items.get(I)??m.get(I);R?(t&(at|ot))!==0&&rn(R,T,A,t):(S=sn(null,u,null,null,T,I,A,r,t,i,!0),m.set(I,S)),E.add(I)}for(const[X,te]of u.items)E.has(X)||b.skipped_effects.add(te.e);b.add_callback(p)}else p();h(c)}})}function qr(e,t,i,n,r,s,a,u,o){var l=(a&er)!==0,f=(a&(at|ot))!==0,g=t.length,m=i.items,c=i.first,d=c,v,p=null,x,S=[],A=[],T,I,E,b;if(l)for(b=0;b<g;b+=1)T=t[b],I=u(T,b),E=m.get(I),E!==void 0&&(E.a?.measure(),(x??=new Set).add(E));for(b=0;b<g;b+=1){if(T=t[b],I=u(T,b),E=m.get(I),E===void 0){var R=n.get(I);if(R!==void 0){n.delete(I),m.set(I,R);var X=p?p.next:d;Z(i,p,R),Z(i,R,X),wt(R,X,r),p=R}else{var te=d?d.e.nodes_start:r;p=sn(te,i,p,p===null?i.first:p.next,T,I,b,s,a,o)}m.set(I,p),S=[],A=[],d=p.next;continue}if(f&&rn(E,T,b,a),(E.e.f&Y)!==0&&(Vt(E.e),l&&(E.a?.unfix(),(x??=new Set).delete(E))),E!==d){if(v!==void 0&&v.has(E)){if(S.length<A.length){var ie=A[0],O;p=ie.prev;var Se=S[0],ne=S[S.length-1];for(O=0;O<S.length;O+=1)wt(S[O],ie,r);for(O=0;O<A.length;O+=1)v.delete(A[O]);Z(i,Se.prev,ne.next),Z(i,p,Se),Z(i,ne,ie),d=ie,p=ne,b-=1,S=[],A=[]}else v.delete(E),wt(E,d,r),Z(i,E.prev,E.next),Z(i,E,p===null?i.first:p.next),Z(i,p,E),p=E;continue}for(S=[],A=[];d!==null&&d.k!==I;)(d.e.f&Y)===0&&(v??=new Set).add(d),A.push(d),d=d.next;if(d===null)continue;E=d}S.push(E),p=E,d=E.next}if(d!==null||v!==void 0){for(var w=v===void 0?[]:jt(v);d!==null;)(d.e.f&Y)===0&&w.push(d),d=d.next;var L=w.length;if(L>0){var K=(a&yi)!==0&&g===0?r:null;if(l){for(b=0;b<L;b+=1)w[b].a?.measure();for(b=0;b<L;b+=1)w[b].a?.fix()}Fr(i,w,K)}}l&&Gt(()=>{if(x!==void 0)for(E of x)E.a?.apply()}),e.first=i.first&&i.first.e,e.last=p&&p.e;for(var Ee of n.values())$(Ee.e);n.clear()}function rn(e,t,i,n){(n&at)!==0&&Ue(e.v,t),(n&ot)!==0?Ue(e.i,i):e.i=i}function sn(e,t,i,n,r,s,a,u,o,l,f){var g=(o&at)!==0,m=(o&tr)===0,c=g?m?Li(r,!1,!1):qe(r):r,d=(o&ot)===0?a:qe(a),v={i:d,v:c,k:s,a:null,e:null,prev:i,next:n};try{if(e===null){var p=document.createDocumentFragment();p.append(e=ct())}return v.e=He(()=>u(e,c,d,l),sr),v.e.prev=i&&i.e,v.e.next=n&&n.e,i===null?f||(t.first=v):(i.next=v,i.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function wt(e,t,i){for(var n=e.next?e.next.e.nodes_start:i,r=t?t.e.nodes_start:i,s=e.e.nodes_start;s!==null&&s!==n;){var a=dt(s);r.before(s),s=a}}function Z(e,t,i){t===null?e.first=i:(t.next=i,t.e.next=i&&i.e),i!==null&&(i.prev=t,i.e.prev=t&&t.e)}function Ur(e,t,...i){var n=e,r=ve,s;Ft(()=>{r!==(r=t())&&(s&&($(s),s=null),s=He(()=>r(n,...i)))},st)}function Vr(e,t){return e==null?null:String(e)}function Te(e,t,i,n){var r=e.__style;if(r!==t){var s=Vr(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return n}const Br=Symbol("is custom element"),Yr=Symbol("is html");function ge(e,t,i,n){var r=Xr(e);r[t]!==(r[t]=i)&&(t==="loading"&&(e[qn]=i),i==null?e.removeAttribute(t):typeof i!="string"&&Kr(e).includes(t)?e[t]=i:e.setAttribute(t,i))}function Xr(e){return e.__attributes??={[Br]:e.nodeName.includes("-"),[Yr]:e.namespaceURI===rr}}var hi=new Map;function Kr(e){var t=e.getAttribute("is")||e.nodeName,i=hi.get(t);if(i)return i;hi.set(t,i=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Dn(r);for(var a in n)n[a].set&&i.push(a);r=pi(r)}return i}function Ge(e,t,i=t){var n=new WeakSet;Er(e,"input",async r=>{var s=r?e.defaultValue:e.value;if(s=bt(e)?yt(s):s,i(s),j!==null&&n.add(j),await Lr(),s!==(s=t())){var a=e.selectionStart,u=e.selectionEnd;e.value=s??"",u!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(u,e.value.length))}}),vt(t)==null&&e.value&&(i(bt(e)?yt(e.value):e.value),j!==null&&n.add(j)),Fi(()=>{var r=t();if(e===document.activeElement){var s=Je??j;if(n.has(s))return}bt(e)&&r===yt(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function bt(e){var t=e.type;return t==="number"||t==="range"}function yt(e){return e===""?null:+e}function gi(e,t){return e===t||e?.[Ke]===t}function Pt(e={},t,i,n){return kr(()=>{var r,s;return Fi(()=>{r=s,s=[],vt(()=>{e!==i(...s)&&(t(e,...s),r&&gi(i(...r),e)&&t(null,...r))})}),()=>{Gt(()=>{s&&gi(i(...s),e)&&t(null,...s)})}}),e}function an(e,t,i){if(e==null)return t(void 0),ve;const n=vt(()=>e.subscribe(t,i));return n.unsubscribe?()=>n.unsubscribe():n}const Ie=[];function Bt(e,t=ve){let i=null;const n=new Set;function r(u){if(Ei(e,u)&&(e=u,i)){const o=!Ie.length;for(const l of n)l[1](),Ie.push(l,e);if(o){for(let l=0;l<Ie.length;l+=2)Ie[l][0](Ie[l+1]);Ie.length=0}}}function s(u){r(u(e))}function a(u,o=ve){const l=[u,o];return n.add(l),n.size===1&&(i=t(r,s)||ve),u(e),()=>{n.delete(l),n.size===0&&i&&(i(),i=null)}}return{set:r,update:s,subscribe:a}}function Jr(e){let t;return an(e,i=>t=i)(),t}let zt=Symbol();function Be(e,t,i){const n=i[t]??={store:null,source:Li(void 0),unsubscribe:ve};if(n.store!==e&&!(zt in i))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=ve;else{var r=!0;n.unsubscribe=an(e,s=>{r?n.source.v=s:_(n.source,s)}),r=!1}return e&&zt in i?Jr(e):h(n.source)}function vi(e,t){return e.set(t),t}function mt(){const e={};function t(){Wi(()=>{for(var i in e)e[i].unsubscribe();$e(e,zt,{enumerable:!1,value:!0})})}return[e,t]}function on(e){B===null&&Vn(),Le(()=>{const t=vt(e);if(typeof t=="function")return t})}const Zr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Zr);function Qr(e,t){t.onclick&&t.onclick(t.index)}function $r(e,t){_(t,!0)}var es=fe('<div class="container svelte-kyctpi"><input type="image" class="svelte-kyctpi"/></div>');function ts(e,t){be(t,!0);let i=z(!1),n,r=z(""),s=z(q(t.grid.cellWidth)),a=lt(()=>h(s)/t.width),u,o=!1,l=(d,v,p,x)=>"";on(()=>{u.style.zIndex=0,t.imageLoader.onAllLoaded(()=>{o=!0,u.src=t.imageLoader.imageUrls[t.index],_(r,l(n,t.isActive,h(i),o),!0)}),l=(d,v,p,x)=>t.styler?t.styler(d,h(a),t.width,t.height,v,p,x,h(s),u):""}),Le(()=>{n=t.grid.getPosition(t.grid.getGridCoordinate(t.index)),_(s,t.grid.cellWidth,!0),_(r,l(n,t.isActive,h(i),o),!0)});function f(){_(i,!1)}function g(){}var m=es(),c=k(m);ge(c,"src",null),c.__click=[Qr,t],c.__mouseover=[$r,i],Pt(c,d=>u=d,()=>u),ht(()=>{Te(c,h(r)),ge(c,"width",h(s)),ge(c,"height",h(s)*t.height/t.width),ge(c,"alt",t.alt)}),ke("mouseleave",c,f),ke("focus",c,g),ce(e,m),ye()}Oe(["click","mouseover"]);const Qe=Bt(null);function is(e,t){be(t,!0);const[i,n]=mt(),r=()=>Be(Qe,"$playingStone",i);let s=z(!1);function a(){_(s,t.player.play(t.stone,u),!0),h(s)&&vi(Qe,{stone:t.stone,index:t.index})}function u(o){o.stone.number===t.stone.number&&(_(s,!1),r().index===t.index&&vi(Qe,null))}{let o=lt(()=>`Stone number ${t.stone.number}`);ts(e,{get index(){return t.index},get grid(){return t.grid},get width(){return t.stone.width},get height(){return t.stone.height},get alt(){return h(o)},onclick:a,get styler(){return t.styler},get isActive(){return h(s)},get imageLoader(){return t.imageLoader}})}ye(),n()}var ns=fe("<main></main>");function rs(e,t){const i="#909087",n="#303027";function r(a,u,o,l,f,g,m,c,d){let v="";if(a){const p=a.vCentre-u*l/2;v+=`left: ${a.left}px; top: ${p}px;`,v+=`width: ${c}px;`,d.height=c*l/o,f?(v+=`border-color: ${i};`,v+="opacity: 1;"):g&&(v+=`border-color: ${n};`)}return g&&(v+="filter: contrast(1.2);",v+="filter: brightness(1.2);"),m?v+="opacity: 1;":v+="opacity: 0;",v}var s=ns();nn(s,21,()=>t.stones,tn,(a,u,o)=>{is(a,{get stone(){return h(u)},index:o,get grid(){return t.grid},get player(){return t.player},styler:r,get imageLoader(){return t.imageLoader}})}),ce(e,s)}const Ce=[{image:"stone-000.jpg",audio:"Image01.ogg",number:"1",width:840,height:798,gcn:"11191"},{image:"stone-001.jpg",audio:"Image02.ogg",number:"2",width:1043,height:1082,gcn:"11615"},{image:"stone-002.jpg",audio:"Image03.ogg",number:"3",width:950,height:693,gcn:"12138"},{image:"stone-003.jpg",audio:"Image04.ogg",number:"4",width:833,height:867,gcn:"12450"},{image:"stone-004.jpg",audio:"Image05.ogg",number:"5",width:861,height:735,gcn:"12481"},{image:"stone-005.jpg",audio:"Image06.ogg",number:"6",width:863,height:819,gcn:"13056"},{image:"stone-006.jpg",audio:"Image07.ogg",number:"7",width:903,height:922,gcn:"13427"},{image:"stone-007.jpg",audio:"Image08.ogg",number:"8",width:776,height:685,gcn:"13973"},{image:"stone-008.jpg",audio:"Image09.ogg",number:"9",width:903,height:1105,gcn:"14888"},{image:"stone-009.jpg",audio:"Image10.ogg",number:"10",width:880,height:893,gcn:"14889"},{image:"stone-011.jpg",audio:"Image11.ogg",number:"11",width:473,height:553,gcn:"15244"},{image:"stone-012.jpg",audio:"Image12.ogg",number:"12",width:472,height:546,gcn:"15266"},{image:"stone-013.jpg",audio:"Image13.ogg",number:"13",width:476,height:526,gcn:"15286"},{image:"stone-014.jpg",audio:"Image14.ogg",number:"14",width:467,height:533,gcn:"15290"},{image:"stone-015.jpg",audio:"Image15.ogg",number:"15",width:468,height:527,gcn:"15291"},{image:"stone-016.jpg",audio:"Image16.ogg",number:"16",width:883,height:820,gcn:"15292"},{image:"stone-017.jpg",audio:"Image17.ogg",number:"17",width:465,height:513,gcn:"15456"},{image:"stone-018.jpg",audio:"Image18.ogg",number:"18",width:469,height:546,gcn:"15457"},{image:"stone-019.jpg",audio:"Image19.ogg",number:"19",width:807,height:904,gcn:"15828"},{image:"stone-020.jpg",audio:"Image20.ogg",number:"20",width:848,height:848,gcn:"15899"},{image:"stone-021.jpg",audio:"Image21.ogg",number:"21",width:900,height:932,gcn:"15902"},{image:"stone-022.jpg",audio:"Image22.ogg",number:"22",width:469,height:519,gcn:"16000"},{image:"stone-023.jpg",audio:"Image23.ogg",number:"23",width:469,height:524,gcn:"16037"},{image:"stone-024.jpg",audio:"Image24.ogg",number:"24",width:476,height:508,gcn:"16038"},{image:"stone-025.jpg",audio:"Image25.ogg",number:"25",width:476,height:517,gcn:"16039"},{image:"stone-026.jpg",audio:"Image26.ogg",number:"26",width:852,height:810,gcn:"16164"},{image:"stone-027.jpg",audio:"Image27.ogg",number:"27",width:852,height:842,gcn:"16166"},{image:"stone-028.jpg",audio:"Image28.ogg",number:"28",width:686,height:759,gcn:"16300"},{image:"stone-029.jpg",audio:"Image29.ogg",number:"29",width:476,height:528,gcn:"16301"},{image:"stone-030.jpg",audio:"Image30.ogg",number:"30",width:815,height:789,gcn:"16547"},{image:"stone-031.jpg",audio:"Image31.ogg",number:"31",width:859,height:945,gcn:"16720"},{image:"stone-032.jpg",audio:"Image32.ogg",number:"32",width:970,height:806,gcn:"16736"},{image:"stone-033.jpg",audio:"Image33.ogg",number:"33",width:464,height:529,gcn:"18419"},{image:"stone-034.jpg",audio:"Image34.ogg",number:"34",width:412,height:394,gcn:"18421"},{image:"stone-035.jpg",audio:"Image35.ogg",number:"35",width:469,height:537,gcn:"34219"},{image:"stone-036.jpg",audio:"Image36.ogg",number:"36",width:923,height:852,gcn:"34220"},{image:"stone-037.jpg",audio:"Image37.ogg",number:"37",width:920,height:890,gcn:"34201"},{image:"stone-038.jpg",audio:"Image38a.ogg",number:"38a",width:473,height:532,gcn:"34202"},{image:"stone-039.jpg",audio:"Image38b.ogg",number:"38b",width:855,height:861,gcn:"34202"},{image:"stone-040.jpg",audio:"Image39.ogg",number:"39",width:476,height:542,gcn:"34204"},{image:"stone-041.jpg",audio:"Image40.ogg",number:"40",width:497,height:473,gcn:"34206"},{image:"stone-042.jpg",audio:"Image41.ogg",number:"41",width:473,height:537,gcn:"34209"},{image:"stone-043.jpg",audio:"Image42.ogg",number:"42",width:462,height:540,gcn:"34212"},{image:"stone-044.jpg",audio:"Image43.ogg",number:"43",width:465,height:536,gcn:"34214"},{image:"stone-045.jpg",audio:"Image44.ogg",number:"44",width:471,height:506,gcn:"34465"},{image:"stone-046.jpg",audio:"Image45.ogg",number:"45",width:470,height:527,gcn:"34539"},{image:"stone-047.jpg",audio:"Image46.ogg",number:"46",width:1080,height:1089,gcn:"34603"},{image:"stone-048.jpg",audio:"Image47.ogg",number:"47",width:467,height:541,gcn:"34793"},{image:"stone-049.jpg",audio:"Image48.ogg",number:"48",width:877,height:729,gcn:"35875"},{image:"stone-050.jpg",audio:"Image49.ogg",number:"49",width:466,height:526,gcn:"41457"},{image:"stone-051.jpg",audio:"Image50.ogg",number:"50",width:468,height:498,gcn:"41458"},{image:"stone-052.jpg",audio:"Image51.ogg",number:"51",width:844,height:745,gcn:"42366"},{image:"stone-053.jpg",audio:"Image52.ogg",number:"52",width:465,height:548,gcn:"60715"}];class ss{constructor(t,i,n,r,s,a,u){this.width=t,this.height=i,this.columns=n,this.items=r,this.minHEdgePadding=s,this.minVEdgePadding=a,this.gridPadding=u,this.rows=this.getGridCoordinate(r-1).row+1,this.calculateCellSize()}calculateCellSize(){const t=this.columns-1;this.gapSize=Math.floor(this.height*this.gridPadding);const i=this.width*(2*this.minHEdgePadding)+t*this.gapSize,n=Math.floor((this.width-i)/this.columns),r=this.rows-1,s=this.width*2*this.minVEdgePadding+r*this.gapSize,a=Math.floor((this.height-s)/this.rows);this.cellSize=Math.min(n,a),this.columns*this.cellSize+t*this.gapSize,this.hEdgePadding=Math.floor((this.width-this.columns*this.cellSize-t*this.gapSize)/2),this.vEdgePadding=Math.floor((this.height-this.rows*this.cellSize-r*this.gapSize)/2)}getGridCoordinate(t){const i=Math.floor(t/this.columns),n=t%this.columns;return{row:i,column:n}}getPosition(t){const{row:i,column:n}=t,r=this.hEdgePadding+n*(this.cellSize+this.gapSize),s=this.vEdgePadding+this.cellSize/2+i*(this.cellSize+this.gapSize);return{left:r,vCentre:s}}}function as(e,t,i,n,r){const s=t+(t-1)*n,a=i+(i-1)*r;return e*s/a}class Tt{constructor(t,i,n,r,s,a,u,o){this.containerWidth=t,this.containerHeight=i,this.columns=n,this.items=r,this.minHorizontalEdgePadding=s,this.minVerticalEdgePadding=a,this.horizontalGridSpacingFactor=u,this.verticalGridSpacingFactor=o,this.rows=this.getGridCoordinate(r-1).row+1,this.calculateGridDimensions()}calculateGridDimensions(){const t=as(1,this.columns,this.rows,this.horizontalGridSpacingFactor,this.verticalGridSpacingFactor),i=this.containerWidth*(1-2*this.minHorizontalEdgePadding),n=this.containerHeight*(1-2*this.minVerticalEdgePadding);i/n>t?(this.verticalEdgePadding=this.containerHeight*this.minVerticalEdgePadding,this.contentHeight=this.containerHeight-2*this.verticalEdgePadding,this.contentWidth=this.contentHeight*t,this.horizontalEdgePadding=(this.containerWidth-this.contentWidth)/2):(this.horizontalEdgePadding=this.containerWidth*this.minHorizontalEdgePadding,this.contentWidth=this.containerWidth-2*this.horizontalEdgePadding,this.contentHeight=this.contentWidth/t,this.verticalEdgePadding=(this.containerHeight-this.contentHeight)/2),this.cellWidth=this.contentWidth/(this.columns+this.horizontalGridSpacingFactor*(this.columns-1)),this.cellHeight=this.contentHeight/(this.rows+this.verticalGridSpacingFactor*(this.rows-1)),this.horizontalGridSpacing=this.cellWidth*this.horizontalGridSpacingFactor,this.verticalGridSpacing=this.cellHeight*this.verticalGridSpacingFactor}getGridCoordinate(t){const i=Math.floor(t/this.columns),n=t%this.columns;return{row:i,column:n}}getPosition(t){const{row:i,column:n}=t,r=this.horizontalEdgePadding+n*(this.cellWidth+this.horizontalGridSpacing),s=this.verticalEdgePadding+this.cellHeight/2+i*(this.cellHeight+this.verticalGridSpacing);return{left:r,vCentre:s}}}const mi=.25;class os{constructor(t,i,n){const r=`audio/${i.audio}`;this.audioCtx=t,this.stoneData=i,this.endedCallback=n,this.ended=!1,this.started=!1,this.paused=!1,this.source=t.createBufferSource(),this.gain=t.createGain(),this.source.connect(this.gain),this.gain.connect(t.destination),this.request=new XMLHttpRequest,this.request.open("GET",r),this.request.responseType="arraybuffer",this.request.onload=()=>{let s=this.request.response;t.decodeAudioData(s,a=>this.source.buffer=a),this.started||(this.started=!0,this.source.start(),this.source.onended=a=>{this.ended=!0,this.endedCallback({e:a,stone:this.stoneData})})}}start(){this.request.send()}pause(){this.started&&(this.ended||(this.paused?(this.gain.gain.setValueAtTime(1,this.audioCtx.currentTime),this.audioCtx.resume(),this.paused=!1):(this.gain.gain.setValueAtTime(0,this.audioCtx.currentTime),setTimeout(()=>this.audioCtx.suspend(),10),this.paused=!0)))}stop(){this.started?this.ended||(this.paused?(this.audioCtx.resume(),this.paused=!1,this.source.stop(this.audioCtx.currentTime)):(this.gain.gain.linearRampToValueAtTime(0,this.audioCtx.currentTime+mi),this.source.stop(this.audioCtx.currentTime+mi))):(this.started=!0,this.ended=!0,this.endedCallback({e:null,stone:this.stoneData}))}}class ls{constructor(){this.initialised=!1}initialise(){this.audioCtx=new AudioContext}stop(){this.source&&this.source.stop()}pause(){this.source&&this.source.pause()}play(t,i){return this.stoneData&&this.stoneData.number===t.number&&!this.source.ended?(this.stop(),!1):(this.initialised||(this.initialise(),this.initialised=!0),this.stop(),this.endedCallback=i,this.stoneData=t,this.source=new os(this.audioCtx,t,i),this.source.start(),!0)}}class us{constructor(t,i){this.imageUrls=Array(t.length);let n=0;for(const r of t){const s=n,a=new XMLHttpRequest,u=r.number.length===1?`0${r.number}`:r.number,o=`images/${i}/${u}-${i}.jpg`;a.open("GET",o,!0),a.responseType="arraybuffer",a.onload=l=>{const f=new Uint8Array(a.response),g=new Blob([f],{type:"image/jpeg"}),c=(window.URL||window.webkitURL).createObjectURL(g);this.onloaded(s,c)},a.send(),n++}this.loadedCount=0,this.timerStart=Date.now().valueOf(),this.callbacks=[]}onloaded(t,i){this.imageUrls[t]=i,this.loadedCount++,this.loadedCount===this.imageUrls.length&&(console.log(`All loaded in ${Date.now().valueOf()-this.timerStart}ms`),this.callbacks.forEach(n=>n()))}onAllLoaded(t){this.callbacks.push(t)}}class cs{constructor(t){this.imgSize=t,this.srcs={}}getSrc(t,i){const n=this.srcs[t];n?i(n):this.loadImage(t,i)}getUrl(t){const i=t.length===1?`0${t}`:t;return`images/${this.imgSize}/${i}-${this.imgSize}.jpg`}loadImage(t,i){const n=new XMLHttpRequest;n.open("GET",this.getUrl(t),!0),n.responseType="arraybuffer",n.onload=r=>{const s=new Uint8Array(n.response),a=new Blob([s],{type:"image/jpeg"}),o=(window.URL||window.webkitURL).createObjectURL(a);this.srcs[t]=o,i(o)},n.send()}}class ds{constructor(t,i,n=.97,r){this.containerWidth=t,this.containerHeight=i,this.maxImageSizeRatio=n,this.maxImageWidth=r}setElementDimensions(t,i){this.elementDimensions={width:t,height:i},this.setScale(),this.height=this.scale*this.elementDimensions.height,this.width=this.scale*this.elementDimensions.width}setScale(){const t=this.getMaxImageToContainerRatio();t>this.maxImageSizeRatio?this.scale=this.maxImageSizeRatio/t:this.scale=this.maxImageSizeRatio/t,this.scale*this.elementDimensions.width>this.maxImageWidth&&(this.scale=this.scale*this.maxImageWidth/(this.scale*this.elementDimensions.width))}getOffsets(){const t=(this.containerWidth-this.scale*this.elementDimensions.width)/2,i=(this.containerHeight-this.height)/2;return{left:t,top:i}}getOffsetCSS(){if(!this.elementDimensions)return"";const t=this.getOffsets();return`left: ${t.left}px; top: ${t.top}px;`}getDimensionsCSS(){return this.elementDimensions?`width: ${this.width}px; height: ${this.height}px`:""}getMaxImageToContainerRatio(){const t=this.elementDimensions.width/this.containerWidth,i=this.elementDimensions.height/this.containerHeight;return Math.max(t,i)}}function fs(e,t){t.player.pause()}function hs(e,t){t.player.stop()}var gs=fe('<div class="container svelte-7mipct"><img class="main-image svelte-7mipct" role="none"/> <img class="close-button svelte-7mipct" src="./close-button.svg" alt="close" role="none"/></div>');function vs(e,t){be(t,!0);const[i,n]=mt(),r=()=>Be(Qe,"$playingStone",i),s=1e3;let a=z(""),u=z(""),o=z(""),l=z(""),f=z(!1),g=z(null);const m=`Stone number ${t.stone.number}`,c=new ds(t.windowWidth,t.windowHeight,void 0,1600);c.setElementDimensions(t.stone.width,t.stone.height),_(a,c.getOffsetCSS(),!0),on(()=>{_(a,`width: ${c.width}px; height: ${c.height}px`),_(o,`left: ${c.width-30}px; top: 0px`);let b=c.height-85;_(l,`top: ${b}px`)});function d(){t.imageLoader.getSrc(t.stone.number,b=>{_(g,b,!0),x(),setTimeout(S)})}function v(){x(),setTimeout(p,s)}function p(){_(a,`transition: ${s/1e3}s ease-in-out;display: none;`+c.getOffsetCSS()+c.getDimensionsCSS())}function x(){_(a,`transition: ${s/1e3}s ease-in-out;display: inline-block;opacity: 0;`+c.getOffsetCSS()+c.getDimensionsCSS())}function S(){_(a,`transition: ${s/1e3}s ease-in-out;display: inline-block;opacity: 1;`+c.getOffsetCSS()+c.getDimensionsCSS())}function A(b){_(u,c.getDimensionsCSS(),!0),b&&b.index===t.index?(_(f,!0),d()):h(f)&&(_(f,!1),v())}Le(()=>{A(r())});var T=gs(),I=k(T);I.__click=[fs,t];var E=y(I,2);E.__click=[hs,t],ht(()=>{Te(T,h(a)),Te(I,h(u)),ge(I,"src",h(g)),ge(I,"alt",m)}),ce(e,T),ye(),n()}Oe(["click"]);const ms="#272727",_s=Bt(ms),ln={columns:9,hEdgePadding:3,vEdgePadding:3,hGridSpacing:15,vGridSpacing:25},Yt=Bt(ln);function un(e){Yt.update(t=>({...t,...e}))}function St(e){var t,i,n;return e=e||window.event,e.pageX==null&&e.clientX!=null&&(t=e.target&&e.target.ownerDocument||document,i=t.documentElement,n=t.body,e.pageX=e.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),{x:e.pageX,y:e.pageY}}var ps=(e,t,i)=>{wr(t,-1),h(t)<0&&_(t,i.length-1)},ws=(e,t,i)=>_(t,(h(t)+1)%i.length),bs=fe('<div class="container svelte-5vdzxe"><div class="top-bar svelte-5vdzxe"><button class="svelte-5vdzxe">&lt;</button> <button class="svelte-5vdzxe">&gt;</button> <img class="close-button svelte-5vdzxe" src="./close-button2.svg" alt="close" role="none"/></div> <div class="content svelte-5vdzxe"><!></div> <div class="resize-container"></div> <img class="resize svelte-5vdzxe" alt="resize"/></div>');function ys(e,t){be(t,!0);const i=[t.slot01];let n=z(0),r,s,a=!1,u=!1,o=z(0),l=z(0),f=z(400),g=z(400),m=lt(()=>`left:${h(o)}px;top:${h(l)}px;width:${h(f)}px;height:${h(g)}px;`),c={x:0,y:0},d={x:0,y:0};const v=4;document.onmousemove=x,document.onmouseup=A;function p(w){S()}function x(w){const L=St(w);a&&(_(o,L.x-c.x),_(l,L.y-c.y),h(o)<0&&_(o,0),h(l)<0&&_(l,0),h(o)>t.windowWidth-h(f)-v&&_(o,t.windowWidth-h(f)-v),h(l)>t.windowHeight-h(g)-v&&_(l,t.windowHeight-h(g)-v)),u&&(_(f,L.x+d.x-h(o)),_(g,L.y+d.y-h(l)),h(f)<200&&_(f,200),h(g)<200&&_(g,200),h(f)>t.windowWidth-h(o)-v&&_(f,t.windowWidth-h(o)-v),h(g)>t.windowHeight-h(l)-v&&_(g,t.windowHeight-h(l)-v))}function S(w=!1){let L,K;w?(L=K=0,s.style.opacity="0"):(L=`${r.scrollTop+r.clientHeight-s.offsetHeight}px`,K=`${r.scrollLeft+r.clientWidth-s.offsetWidth}px`),s.style.top=L,s.style.left=K}function A(){a&&(a=!1),u&&(s.style.opacity="0.4",S(),u=!1)}function T(w){w.preventDefault();const L=St(w);c.x=L.x-h(o),c.y=L.y-h(l),a=!0}function I(w){w.preventDefault();const L=St(w);d.x=h(o)+h(f)-L.x,d.y=h(l)+h(g)-L.y,S(!0),u=!0}function E(w){const L=w.clientX-h(o),K=w.clientY-h(l),Ee=h(f)-L,Xe=h(g)-K;Ee<=12&&Xe<=12&&(w.preventDefault(),d.x=Ee,d.y=Xe,S(!0),u=!0)}var b=bs(),R=k(b),X=k(R);X.__click=[ps,n,i];var te=y(X,2);te.__click=[ws,n,i];var ie=y(te,2);ie.__click=function(...w){t.hideSettings?.apply(this,w)};var O=y(R,2),Se=k(O);Ur(Se,()=>i[h(n)]);var ne=y(O,4);ge(ne,"src","./rh.svg"),Pt(ne,w=>s=w,()=>s),Pt(b,w=>r=w,()=>r),ht(()=>{Te(b,h(m)),Te(X,`visibility: ${i.length>1?"visible":"hidden"};`),Te(te,`visibility: ${i.length>1?"visible":"hidden"};`)}),ke("mousedown",b,E,!0),ke("scroll",b,p),ke("mousedown",R,T,!0),ke("mousedown",ne,I,!0),ce(e,b),ye()}Oe(["click"]);Oe(["click"]);var Ss=()=>un(ln),Es=(e,t)=>{_(t,!h(t))},xs=fe('<div class="results-container svelte-76pwdz"><div class="results-row svelte-76pwdz"><div>window width</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>window height</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>rows</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>content width</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>content height</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>horizontal edge padding</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>vertical edge padding</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>cell size</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>horizontal grid gap</div> <div> </div></div> <div class="results-row svelte-76pwdz"><div>vertical grid gap</div> <div> </div></div></div>'),Is=fe('<h1>Grid Calculations</h1> <div class="container svelte-76pwdz"><div class="settings-row svelte-76pwdz"><div>Columns:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Minimum horizontal edge padding as a % of screen width.">Horizontal Edge Padding %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Minimum vertical edge padding as a % of screen height.">Vertical Edge Padding %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Horizontal grid gap as a % of cell width.">Horizontal Grid Gap %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div> <div class="settings-row svelte-76pwdz"><div class="label" title="Vertical grid gap as a % of cell height.">Vertical Grid Gap %:</div> <input type="number" min="1" width="3" class="svelte-76pwdz"/></div></div> <button class="svelte-76pwdz">Reset to defaults</button> <hr/> <button class="svelte-76pwdz">Show resulting grid</button> <!>',1);function Cs(e,t){be(t,!0);const[i,n]=mt(),r=()=>Be(Yt,"$gridSettings",i);let s=z(q(r().columns)),a=z(q(r().hEdgePadding)),u=z(q(r().vEdgePadding)),o=z(q(r().hGridSpacing)),l=z(q(r().vGridSpacing)),f=z(!1),g=document.body.clientWidth,m=document.body.clientHeight,c=lt(()=>new Tt(g,m,h(s),53,h(a)/100,h(u)/100,h(o)/100,h(l)/100));Le(()=>{_(s,r().columns,!0),_(a,r().hEdgePadding,!0),_(u,r().vEdgePadding,!0),_(o,r().hGridSpacing,!0),_(l,r().vGridSpacing,!0)}),Le(()=>{un({columns:h(s),hEdgePadding:h(a),vEdgePadding:h(u),hGridSpacing:h(o),vGridSpacing:h(l)})});function d(w){return parseFloat(w).toFixed(2)}var v=Is(),p=y(Oi(v),2),x=k(p),S=y(k(x),2),A=y(x,2),T=y(k(A),2),I=y(A,2),E=y(k(I),2),b=y(I,2),R=y(k(b),2),X=y(b,2),te=y(k(X),2),ie=y(p,2);ie.__click=[Ss];var O=y(ie,4);O.__click=[Es,f];var Se=y(O,2);{var ne=w=>{var L=xs(),K=k(L),Ee=y(k(K),2),Xe=k(Ee),Xt=y(K,2),cn=y(k(Xt),2),dn=k(cn),Kt=y(Xt,2),fn=y(k(Kt),2),hn=k(fn),Jt=y(Kt,2),gn=y(k(Jt),2),vn=k(gn),Zt=y(Jt,2),mn=y(k(Zt),2),_n=k(mn),Qt=y(Zt,2),pn=y(k(Qt),2),wn=k(pn),$t=y(Qt,2),bn=y(k($t),2),yn=k(bn),ei=y($t,2),Sn=y(k(ei),2),En=k(Sn),ti=y(ei,2),xn=y(k(ti),2),In=k(xn),Cn=y(ti,2),kn=y(k(Cn),2),Pn=k(kn);ht((zn,Tn,An,jn,Ln,Hn,Mn)=>{J(Xe,`${h(c).containerWidth??""}px`),J(dn,`${h(c).containerHeight??""}px`),J(hn,h(c).rows),J(vn,`${zn??""}px`),J(_n,`${Tn??""}px`),J(wn,`${An??""}px`),J(yn,`${jn??""}px`),J(En,`${Ln??""}px`),J(In,`${Hn??""}px`),J(Pn,`${Mn??""}px`)},[()=>d(h(c).contentWidth),()=>d(h(c).contentHeight),()=>d(h(c).horizontalEdgePadding),()=>d(h(c).verticalEdgePadding),()=>d(h(c).cellWidth),()=>d(h(c).horizontalGridSpacing),()=>d(h(c).verticalGridSpacing)]),ce(w,L)};kt(Se,w=>{h(f)&&w(ne)})}Ge(S,()=>h(s),w=>_(s,w)),Ge(T,()=>h(a),w=>_(a,w)),Ge(E,()=>h(u),w=>_(u,w)),Ge(R,()=>h(o),w=>_(o,w)),Ge(te,()=>h(l),w=>_(l,w)),ce(e,v),ye(),n()}Oe(["click"]);function ks(e,t){ys(e,{get windowWidth(){return t.windowWidth},get windowHeight(){return t.windowHeight},get hideSettings(){return t.hideSettings},slot01:n=>{Cs(n,{})},$$slots:{slot01:!0}})}var Ps=(e,t)=>_(t,!0),zs=fe('<button class="svelte-1183y0g">Show Settings Window</button>'),Ts=fe("<!> <!> <!> <!>",1);function As(e,t){be(t,!0);const[i,n]=mt(),r=()=>Be(Yt,"$gridSettings",i),s=()=>Be(_s,"$backgroundColor",i);let a=z(!0),u=document.body.clientWidth,o=document.body.clientHeight,l=z(q(new Tt(u,o,r().columns,Ce.length,r().hEdgePadding/100,r().vEdgePadding/100,r().hGridSpacing/100,r().vGridSpacing/100)));Le(()=>{document.body.style.backgroundColor=s(),_(l,new Tt(u,o,r().columns,Ce.length,r().hEdgePadding/100,r().vEdgePadding/100,r().hGridSpacing/100,r().vGridSpacing/100),!0)});const f=new us(Ce,192),g=new cs(1024);new ss(u,o,9,Ce.length,.01,.02,.03);const m=new ls;var c=Ts(),d=Oi(c);{var v=T=>{var I=zs();I.__click=[Ps,a],ce(T,I)};kt(d,T=>{h(a)||T(v)})}var p=y(d,2);rs(p,{get stones(){return Ce},get grid(){return h(l)},get imageLoader(){return f},get player(){return m}});var x=y(p,2);nn(x,17,()=>Ce,tn,(T,I,E)=>{vs(T,{index:E,get stone(){return h(I)},get imageLoader(){return g},get windowWidth(){return u},get windowHeight(){return o},get player(){return m}})});var S=y(x,2);{var A=T=>{ks(T,{get windowWidth(){return u},get windowHeight(){return o},hideSettings:()=>_(a,!1)})};kt(S,T=>{h(a)&&T(A)})}ce(e,c),ye(),n()}Oe(["click"]);Gr(As,{target:document.getElementById("app")});
